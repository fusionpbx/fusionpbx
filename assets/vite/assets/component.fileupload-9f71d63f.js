import{s as ae}from"./select2-09f14948.js";import{j as ne}from"./jquery-f66a0d01.js";import"./_commonjsHelpers-de833af9.js";/*!
 * Datepicker for Bootstrap v1.10.0 (https://github.com/uxsolutions/bootstrap-datepicker)
 *
 * Licensed under the Apache License v2.0 (https://www.apache.org/licenses/LICENSE-2.0)
 */(function(r){(function(e){e(ne)})(function(e,s){function a(){return new Date(Date.UTC.apply(Date,arguments))}function n(){var i=new Date;return a(i.getFullYear(),i.getMonth(),i.getDate())}function l(i,t){return i.getUTCFullYear()===t.getUTCFullYear()&&i.getUTCMonth()===t.getUTCMonth()&&i.getUTCDate()===t.getUTCDate()}function u(i,t){return function(){return t!==s&&e.fn.datepicker.deprecated(t),this[i].apply(this,arguments)}}function c(i){return i&&!isNaN(i.getTime())}function f(i,t){function o(_,m){return m.toLowerCase()}var d,h=e(i).data(),v={},D=new RegExp("^"+t.toLowerCase()+"([A-Z])");t=new RegExp("^"+t.toLowerCase());for(var y in h)t.test(y)&&(d=y.replace(D,o),v[d]=h[y]);return v}function g(i){var t={};if(b[i]||(i=i.split("-")[0],b[i])){var o=b[i];return e.each(Y,function(d,h){h in o&&(t[h]=o[h])}),t}}var w=function(){var i={get:function(t){return this.slice(t)[0]},contains:function(t){for(var o=t&&t.valueOf(),d=0,h=this.length;d<h;d++)if(0<=this[d].valueOf()-o&&this[d].valueOf()-o<864e5)return d;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(Array.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var t=new w;return t.replace(this),t}};return function(){var t=[];return t.push.apply(t,arguments),e.extend(t,i),t}}(),k=function(i,t){e.data(i,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(t),this.dates=new w,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(i),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&this.component.length===0&&(this.component=!1),this.o.isInline===null?this.isInline=!this.component&&!this.isInput:this.isInline=this.o.isInline,this.picker=e(C.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(o,d){return Number(d)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};k.prototype={constructor:k,_resolveViewName:function(i){return e.each(C.viewModes,function(t,o){if(i===t||e.inArray(i,o.names)!==-1)return i=t,!1}),i},_resolveDaysOfWeek:function(i){return Array.isArray(i)||(i=i.split(/[,\s]*/)),e.map(i,Number)},_check_template:function(i){try{return i===s||i===""?!1:(i.match(/[<>]/g)||[]).length<=0?!0:e(i).length>0}catch{return!1}},_process_options:function(i){this._o=e.extend({},this._o,i);var t=this.o=e.extend({},this._o),o=t.language;b[o]||(o=o.split("-")[0],b[o]||(o=V.language)),t.language=o,t.startView=this._resolveViewName(t.startView),t.minViewMode=this._resolveViewName(t.minViewMode),t.maxViewMode=this._resolveViewName(t.maxViewMode),t.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,t.startView)),t.multidate!==!0&&(t.multidate=Number(t.multidate)||!1,t.multidate!==!1&&(t.multidate=Math.max(0,t.multidate))),t.multidateSeparator=String(t.multidateSeparator),t.weekStart%=7,t.weekEnd=(t.weekStart+6)%7;var d=C.parseFormat(t.format);t.startDate!==-1/0&&(t.startDate?t.startDate instanceof Date?t.startDate=this._local_to_utc(this._zero_time(t.startDate)):t.startDate=C.parseDate(t.startDate,d,t.language,t.assumeNearbyYear):t.startDate=-1/0),t.endDate!==1/0&&(t.endDate?t.endDate instanceof Date?t.endDate=this._local_to_utc(this._zero_time(t.endDate)):t.endDate=C.parseDate(t.endDate,d,t.language,t.assumeNearbyYear):t.endDate=1/0),t.daysOfWeekDisabled=this._resolveDaysOfWeek(t.daysOfWeekDisabled||[]),t.daysOfWeekHighlighted=this._resolveDaysOfWeek(t.daysOfWeekHighlighted||[]),t.datesDisabled=t.datesDisabled||[],Array.isArray(t.datesDisabled)||(t.datesDisabled=t.datesDisabled.split(",")),t.datesDisabled=e.map(t.datesDisabled,function(m){return C.parseDate(m,d,t.language,t.assumeNearbyYear)});var h=String(t.orientation).toLowerCase().split(/\s+/g),v=t.orientation.toLowerCase();if(h=e.grep(h,function(m){return/^auto|left|right|top|bottom$/.test(m)}),t.orientation={x:"auto",y:"auto"},v&&v!=="auto")if(h.length===1)switch(h[0]){case"top":case"bottom":t.orientation.y=h[0];break;case"left":case"right":t.orientation.x=h[0]}else v=e.grep(h,function(m){return/^left|right$/.test(m)}),t.orientation.x=v[0]||"auto",v=e.grep(h,function(m){return/^top|bottom$/.test(m)}),t.orientation.y=v[0]||"auto";if(t.defaultViewDate instanceof Date||typeof t.defaultViewDate=="string")t.defaultViewDate=C.parseDate(t.defaultViewDate,d,t.language,t.assumeNearbyYear);else if(t.defaultViewDate){var D=t.defaultViewDate.year||new Date().getFullYear(),y=t.defaultViewDate.month||0,_=t.defaultViewDate.day||1;t.defaultViewDate=a(D,y,_)}else t.defaultViewDate=n()},_applyEvents:function(i){for(var t,o,d,h=0;h<i.length;h++)t=i[h][0],i[h].length===2?(o=s,d=i[h][1]):i[h].length===3&&(o=i[h][1],d=i[h][2]),t.on(d,o)},_unapplyEvents:function(i){for(var t,o,d,h=0;h<i.length;h++)t=i[h][0],i[h].length===2?(d=s,o=i[h][1]):i[h].length===3&&(d=i[h][1],o=i[h][2]),t.off(o,d)},_buildEvents:function(){var i={keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};this.o.showOnFocus===!0&&(i.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,i]]:this.component&&this.inputField.length?this._events=[[this.inputField,i],[this.component,{click:e.proxy(this.show,this)}]]:this._events=[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:e.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[this.picker,".prev, .next",{click:e.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:e.proxy(this.dayCellClick,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(i,t){var o=t||this.dates.get(-1),d=this._utc_to_local(o);this.element.trigger({type:i,date:d,viewMode:this.viewMode,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(h,v){arguments.length===0?(h=this.dates.length-1,v=this.o.format):typeof h=="string"&&(v=h,h=this.dates.length-1),v=v||this.o.format;var D=this.dates.get(h);return C.formatDate(D,v,this.o.language)},this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(i){var t;if(i.originalEvent.clipboardData&&i.originalEvent.clipboardData.types&&e.inArray("text/plain",i.originalEvent.clipboardData.types)!==-1)t=i.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;t=window.clipboardData.getData("Text")}this.setDate(t),this.update(),i.preventDefault()},_utc_to_local:function(i){if(!i)return i;var t=new Date(i.getTime()+6e4*i.getTimezoneOffset());return t.getTimezoneOffset()!==i.getTimezoneOffset()&&(t=new Date(i.getTime()+6e4*t.getTimezoneOffset())),t},_local_to_utc:function(i){return i&&new Date(i.getTime()-6e4*i.getTimezoneOffset())},_zero_time:function(i){return i&&new Date(i.getFullYear(),i.getMonth(),i.getDate())},_zero_utc_time:function(i){return i&&a(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate())},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(i){return new Date(i)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var i=this.dates.get(-1);return i!==s?new Date(i):null},clearDates:function(){this.inputField.val(""),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()},setDates:function(){var i=Array.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,i),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var i=Array.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,e.map(i,this._utc_to_local)),this},setDate:u("setDates"),setUTCDate:u("setUTCDates"),remove:u("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var i=this.getFormattedDate();return this.inputField.val(i),this},getFormattedDate:function(i){i===s&&(i=this.o.format);var t=this.o.language;return e.map(this.dates,function(o){return C.formatDate(o,i,t)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(i){return this._process_options({startDate:i}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(i){return this._process_options({endDate:i}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(i){return this._process_options({daysOfWeekDisabled:i}),this.update(),this},setDaysOfWeekHighlighted:function(i){return this._process_options({daysOfWeekHighlighted:i}),this.update(),this},setDatesDisabled:function(i){return this._process_options({datesDisabled:i}),this.update(),this},place:function(){if(this.isInline)return this;var i=this.picker.outerWidth(),t=this.picker.outerHeight(),o=e(this.o.container),d=o.width(),h=this.o.container==="body"?e(document).scrollTop():o.scrollTop(),v=o.offset(),D=[0];this.element.parents().each(function(){var N=e(this).css("z-index");N!=="auto"&&Number(N)!==0&&D.push(Number(N))});var y=Math.max.apply(Math,D)+this.o.zIndexOffset,_=this.component?this.component.parent().offset():this.element.offset(),m=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),O=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),x=_.left-v.left,A=_.top-v.top;this.o.container!=="body"&&(A+=h),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(x-=i-O)):_.left<0?(this.picker.addClass("datepicker-orient-left"),x-=_.left-10):x+i>d?(this.picker.addClass("datepicker-orient-right"),x+=O-i):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var L,F=this.o.orientation.y;if(F==="auto"&&(L=-h+A-t,F=L<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+F),F==="top"?A-=t+parseInt(this.picker.css("padding-top")):A+=m,this.o.rtl){var P=d-(x+O);this.picker.css({top:A,right:P,zIndex:y})}else this.picker.css({top:A,left:x,zIndex:y});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var i=this.dates.copy(),t=[],o=!1;return arguments.length?(e.each(arguments,e.proxy(function(d,h){h instanceof Date&&(h=this._local_to_utc(h)),t.push(h)},this)),o=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=e.map(t,e.proxy(function(d){return C.parseDate(d,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),t=e.grep(t,e.proxy(function(d){return!this.dateWithinRange(d)||!d},this),!0),this.dates.replace(t),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),o?(this.setValue(),this.element.change()):this.dates.length&&String(i)!==String(this.dates)&&o&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&i.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var i=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(t+='<th class="cw">&#160;</th>');i<this.o.weekStart+7;)t+='<th class="dow',e.inArray(i,this.o.daysOfWeekDisabled)!==-1&&(t+=" disabled"),t+='">'+b[this.o.language].daysMin[i++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)}},fillMonths:function(){for(var i,t=this._utc_to_local(this.viewDate),o="",d=0;d<12;d++)i=t&&t.getMonth()===d?" focused":"",o+='<span class="month'+i+'">'+b[this.o.language].monthsShort[d]+"</span>";this.picker.find(".datepicker-months td").html(o)},setRange:function(i){i&&i.length?this.range=e.map(i,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(i){var t=[],o=this.viewDate.getUTCFullYear(),d=this.viewDate.getUTCMonth(),h=n();return i.getUTCFullYear()<o||i.getUTCFullYear()===o&&i.getUTCMonth()<d?t.push("old"):(i.getUTCFullYear()>o||i.getUTCFullYear()===o&&i.getUTCMonth()>d)&&t.push("new"),this.focusDate&&i.valueOf()===this.focusDate.valueOf()&&t.push("focused"),this.o.todayHighlight&&l(i,h)&&t.push("today"),this.dates.contains(i)!==-1&&t.push("active"),this.dateWithinRange(i)||t.push("disabled"),this.dateIsDisabled(i)&&t.push("disabled","disabled-date"),e.inArray(i.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&t.push("highlighted"),this.range&&(i>this.range[0]&&i<this.range[this.range.length-1]&&t.push("range"),e.inArray(i.valueOf(),this.range)!==-1&&t.push("selected"),i.valueOf()===this.range[0]&&t.push("range-start"),i.valueOf()===this.range[this.range.length-1]&&t.push("range-end")),t},_fill_yearsView:function(i,t,o,d,h,v,D){for(var y,_,m,O="",x=o/10,A=this.picker.find(i),L=Math.floor(d/o)*o,F=L+9*x,P=Math.floor(this.viewDate.getFullYear()/x)*x,N=e.map(this.dates,function(z){return Math.floor(z.getUTCFullYear()/x)*x}),M=L-x;M<=F+x;M+=x)y=[t],_=null,M===L-x?y.push("old"):M===F+x&&y.push("new"),e.inArray(M,N)!==-1&&y.push("active"),(M<h||M>v)&&y.push("disabled"),M===P&&y.push("focused"),D!==e.noop&&(m=D(new Date(M,0,1)),m===s?m={}:typeof m=="boolean"?m={enabled:m}:typeof m=="string"&&(m={classes:m}),m.enabled===!1&&y.push("disabled"),m.classes&&(y=y.concat(m.classes.split(/\s+/))),m.tooltip&&(_=m.tooltip)),O+='<span class="'+y.join(" ")+'"'+(_?' title="'+_+'"':"")+">"+M+"</span>";A.find(".datepicker-switch").text(L+"-"+F),A.find("td").html(O)},fill:function(){var i,t,o=new Date(this.viewDate),d=o.getUTCFullYear(),h=o.getUTCMonth(),v=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,D=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,y=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,_=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,m=b[this.o.language].today||b.en.today||"",O=b[this.o.language].clear||b.en.clear||"",x=b[this.o.language].titleFormat||b.en.titleFormat,A=n(),L=(this.o.todayBtn===!0||this.o.todayBtn==="linked")&&A>=this.o.startDate&&A<=this.o.endDate&&!this.weekOfDateIsDisabled(A);if(!isNaN(d)&&!isNaN(h)){this.picker.find(".datepicker-days .datepicker-switch").text(C.formatDate(o,x,this.o.language)),this.picker.find("tfoot .today").text(m).css("display",L?"table-cell":"none"),this.picker.find("tfoot .clear").text(O).css("display",this.o.clearBtn===!0?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display",typeof this.o.title=="string"&&this.o.title!==""?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var F=a(d,h,0),P=F.getUTCDate();F.setUTCDate(P-(F.getUTCDay()-this.o.weekStart+7)%7);var N=new Date(F);F.getUTCFullYear()<100&&N.setUTCFullYear(F.getUTCFullYear()),N.setUTCDate(N.getUTCDate()+42),N=N.valueOf();for(var M,z,W=[];F.valueOf()<N;){if((M=F.getUTCDay())===this.o.weekStart&&(W.push("<tr>"),this.o.calendarWeeks)){var H=new Date(+F+(this.o.weekStart-M-7)%7*864e5),B=new Date(Number(H)+(11-H.getUTCDay())%7*864e5),U=new Date(Number(U=a(B.getUTCFullYear(),0,1))+(11-U.getUTCDay())%7*864e5),S=(B-U)/864e5/7+1;W.push('<td class="cw">'+S+"</td>")}z=this.getClassNames(F),z.push("day");var X=F.getUTCDate();this.o.beforeShowDay!==e.noop&&(t=this.o.beforeShowDay(this._utc_to_local(F)),t===s?t={}:typeof t=="boolean"?t={enabled:t}:typeof t=="string"&&(t={classes:t}),t.enabled===!1&&z.push("disabled"),t.classes&&(z=z.concat(t.classes.split(/\s+/))),t.tooltip&&(i=t.tooltip),t.content&&(X=t.content)),z=typeof e.uniqueSort=="function"?e.uniqueSort(z):e.unique(z),W.push('<td class="'+z.join(" ")+'"'+(i?' title="'+i+'"':"")+' data-date="'+F.getTime().toString()+'">'+X+"</td>"),i=null,M===this.o.weekEnd&&W.push("</tr>"),F.setUTCDate(F.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(W.join(""));var te=b[this.o.language].monthsTitle||b.en.monthsTitle||"Months",Q=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?te:d).end().find("tbody span").removeClass("active");if(e.each(this.dates,function(j,q){q.getUTCFullYear()===d&&Q.eq(q.getUTCMonth()).addClass("active")}),(d<v||d>y)&&Q.addClass("disabled"),d===v&&Q.slice(0,D).addClass("disabled"),d===y&&Q.slice(_+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var ie=this;e.each(Q,function(j,q){var se=new Date(d,j,1),I=ie.o.beforeShowMonth(se);I===s?I={}:typeof I=="boolean"?I={enabled:I}:typeof I=="string"&&(I={classes:I}),I.enabled!==!1||e(q).hasClass("disabled")||e(q).addClass("disabled"),I.classes&&e(q).addClass(I.classes),I.tooltip&&e(q).prop("title",I.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,d,v,y,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,d,v,y,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,d,v,y,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var i,t,o=new Date(this.viewDate),d=o.getUTCFullYear(),h=o.getUTCMonth(),v=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,D=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,y=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,_=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,m=1;switch(this.viewMode){case 4:m*=10;case 3:m*=10;case 2:m*=10;case 1:i=Math.floor(d/m)*m<=v,t=Math.floor(d/m)*m+m>y;break;case 0:i=d<=v&&h<=D,t=d>=y&&h>=_}this.picker.find(".prev").toggleClass("disabled",i),this.picker.find(".next").toggleClass("disabled",t)}},click:function(i){i.preventDefault(),i.stopPropagation();var t,o,d,h;t=e(i.target),t.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),t.hasClass("today")&&!t.hasClass("day")&&(this.setViewMode(0),this._setDate(n(),this.o.todayBtn==="linked"?null:"view")),t.hasClass("clear")&&this.clearDates(),t.hasClass("disabled")||(t.hasClass("month")||t.hasClass("year")||t.hasClass("decade")||t.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,this.viewMode===1?(h=t.parent().find("span").index(t),d=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(h)):(h=0,d=Number(t.text()),this.viewDate.setUTCFullYear(d)),this._trigger(C.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(a(d,h,o)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(i){var t=e(i.currentTarget),o=t.data("date"),d=new Date(o);this.o.updateViewDate&&(d.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),d.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(d)},navArrowsClick:function(i){var t=e(i.currentTarget),o=t.hasClass("prev")?-1:1;this.viewMode!==0&&(o*=12*C.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,o),this._trigger(C.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(i){var t=this.dates.contains(i);if(i||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(i)):this.dates.push(i),typeof this.o.multidate=="number")for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(i,t){t&&t!=="date"||this._toggle_multidate(i&&new Date(i)),(!t&&this.o.updateViewDate||t==="view")&&(this.viewDate=i&&new Date(i)),this.fill(),this.setValue(),t&&t==="view"||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||t&&t!=="date"||this.hide()},moveDay:function(i,t){var o=new Date(i);return o.setUTCDate(i.getUTCDate()+t),o},moveWeek:function(i,t){return this.moveDay(i,7*t)},moveMonth:function(i,t){if(!c(i))return this.o.defaultViewDate;if(!t)return i;var o,d,h=new Date(i.valueOf()),v=h.getUTCDate(),D=h.getUTCMonth(),y=Math.abs(t);if(t=t>0?1:-1,y===1)d=t===-1?function(){return h.getUTCMonth()===D}:function(){return h.getUTCMonth()!==o},o=D+t,h.setUTCMonth(o),o=(o+12)%12;else{for(var _=0;_<y;_++)h=this.moveMonth(h,t);o=h.getUTCMonth(),h.setUTCDate(v),d=function(){return o!==h.getUTCMonth()}}for(;d();)h.setUTCDate(--v),h.setUTCMonth(o);return h},moveYear:function(i,t){return this.moveMonth(i,12*t)},moveAvailableDate:function(i,t,o){do{if(i=this[o](i,t),!this.dateWithinRange(i))return!1;o="moveDay"}while(this.dateIsDisabled(i));return i},weekOfDateIsDisabled:function(i){return e.inArray(i.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(i){return this.weekOfDateIsDisabled(i)||e.grep(this.o.datesDisabled,function(t){return l(i,t)}).length>0},dateWithinRange:function(i){return i>=this.o.startDate&&i<=this.o.endDate},keydown:function(i){if(!this.picker.is(":visible"))return void(i.keyCode!==40&&i.keyCode!==27||(this.show(),i.stopPropagation()));var t,o,d=!1,h=this.focusDate||this.viewDate;switch(i.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),i.preventDefault(),i.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||this.o.daysOfWeekDisabled.length===7)break;t=i.keyCode===37||i.keyCode===38?-1:1,this.viewMode===0?i.ctrlKey?(o=this.moveAvailableDate(h,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):i.shiftKey?(o=this.moveAvailableDate(h,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):i.keyCode===37||i.keyCode===39?o=this.moveAvailableDate(h,t,"moveDay"):this.weekOfDateIsDisabled(h)||(o=this.moveAvailableDate(h,t,"moveWeek")):this.viewMode===1?(i.keyCode!==38&&i.keyCode!==40||(t*=4),o=this.moveAvailableDate(h,t,"moveMonth")):this.viewMode===2&&(i.keyCode!==38&&i.keyCode!==40||(t*=4),o=this.moveAvailableDate(h,t,"moveYear")),o&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),i.preventDefault());break;case 13:if(!this.o.forceParse)break;h=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(h),d=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(i.preventDefault(),i.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}d&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))},setViewMode:function(i){this.viewMode=i,this.picker.children("div").hide().filter(".datepicker-"+C.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var T=function(i,t){e.data(i,"datepicker",this),this.element=e(i),this.inputs=e.map(t.inputs,function(o){return o.jquery?o[0]:o}),delete t.inputs,this.keepEmptyValues=t.keepEmptyValues,delete t.keepEmptyValues,R.call(e(this.inputs),t).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(o){return e.data(o,"datepicker")}),this.updateDates()};T.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(i){return i.getUTCDate()}),this.updateRanges()},updateRanges:function(){var i=e.map(this.dates,function(t){return t.valueOf()});e.each(this.pickers,function(t,o){o.setRange(i)})},clearDates:function(){e.each(this.pickers,function(i,t){t.clearDates()})},dateUpdated:function(i){if(!this.updating){this.updating=!0;var t=e.data(i.target,"datepicker");if(t!==s){var o=t.getUTCDate(),d=this.keepEmptyValues,h=e.inArray(i.target,this.inputs),v=h-1,D=h+1,y=this.inputs.length;if(h!==-1){if(e.each(this.pickers,function(_,m){m.getUTCDate()||m!==t&&d||m.setUTCDate(o)}),o<this.dates[v])for(;v>=0&&o<this.dates[v]&&(this.pickers[v].element.val()||"").length>0;)this.pickers[v--].setUTCDate(o);else if(o>this.dates[D])for(;D<y&&o>this.dates[D]&&(this.pickers[D].element.val()||"").length>0;)this.pickers[D++].setUTCDate(o);this.updateDates(),delete this.updating}}}},destroy:function(){e.map(this.pickers,function(i){i.destroy()}),e(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:u("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var E=e.fn.datepicker,R=function(i){var t=Array.apply(null,arguments);t.shift();var o;if(this.each(function(){var d=e(this),h=d.data("datepicker"),v=typeof i=="object"&&i;if(!h){var D=f(this,"date"),y=e.extend({},V,D,v),_=g(y.language),m=e.extend({},V,_,D,v);d.hasClass("input-daterange")||m.inputs?(e.extend(m,{inputs:m.inputs||d.find("input").toArray()}),h=new T(this,m)):h=new k(this,m),d.data("datepicker",h)}typeof i=="string"&&typeof h[i]=="function"&&(o=h[i].apply(h,t))}),o===s||o instanceof k||o instanceof T)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return o};e.fn.datepicker=R;var V=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",isInline:null,keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},Y=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=k;var b=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},C={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(i){if(typeof i.toValue=="function"&&typeof i.toDisplay=="function")return i;var t=i.replace(this.validParts,"\0").split("\0"),o=i.match(this.validParts);if(!t||!t.length||!o||o.length===0)throw new Error("Invalid date format.");return{separators:t,parts:o}},parseDate:function(i,t,o,d){function h(U,S){return S===!0&&(S=10),U<100&&(U+=2e3)>new Date().getFullYear()+S&&(U-=100),U}function v(){var U=this.slice(0,D[m].length),S=D[m].slice(0,U.length);return U.toLowerCase()===S.toLowerCase()}if(!i)return s;if(i instanceof Date)return i;if(typeof t=="string"&&(t=C.parseFormat(t)),t.toValue)return t.toValue(i,t,o);var D,y,_,m,O,x={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},A={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(i in A&&(i=A[i]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(i)){for(D=i.match(/([\-+]\d+)([dmwy])/gi),i=new Date,m=0;m<D.length;m++)y=D[m].match(/([\-+]\d+)([dmwy])/i),_=Number(y[1]),O=x[y[2].toLowerCase()],i=k.prototype[O](i,_);return k.prototype._zero_utc_time(i)}D=i&&i.match(this.nonpunctuation)||[];var L,F,P={},N=["yyyy","yy","M","MM","m","mm","d","dd"],M={yyyy:function(U,S){return U.setUTCFullYear(d?h(S,d):S)},m:function(U,S){if(isNaN(U))return U;for(S-=1;S<0;)S+=12;for(S%=12,U.setUTCMonth(S);U.getUTCMonth()!==S;)U.setUTCDate(U.getUTCDate()-1);return U},d:function(U,S){return U.setUTCDate(S)}};M.yy=M.yyyy,M.M=M.MM=M.mm=M.m,M.dd=M.d,i=n();var z=t.parts.slice();if(D.length!==z.length&&(z=e(z).filter(function(U,S){return e.inArray(S,N)!==-1}).toArray()),D.length===z.length){var W;for(m=0,W=z.length;m<W;m++){if(L=parseInt(D[m],10),y=z[m],isNaN(L))switch(y){case"MM":F=e(b[o].months).filter(v),L=e.inArray(F[0],b[o].months)+1;break;case"M":F=e(b[o].monthsShort).filter(v),L=e.inArray(F[0],b[o].monthsShort)+1}P[y]=L}var H,B;for(m=0;m<N.length;m++)(B=N[m])in P&&!isNaN(P[B])&&(H=new Date(i),M[B](H,P[B]),isNaN(H)||(i=H))}return i},formatDate:function(i,t,o){if(!i)return"";if(typeof t=="string"&&(t=C.parseFormat(t)),t.toDisplay)return t.toDisplay(i,t,o);var d={d:i.getUTCDate(),D:b[o].daysShort[i.getUTCDay()],DD:b[o].days[i.getUTCDay()],m:i.getUTCMonth()+1,M:b[o].monthsShort[i.getUTCMonth()],MM:b[o].months[i.getUTCMonth()],yy:i.getUTCFullYear().toString().substring(2),yyyy:i.getUTCFullYear()};d.dd=(d.d<10?"0":"")+d.d,d.mm=(d.m<10?"0":"")+d.m,i=[];for(var h=e.extend([],t.separators),v=0,D=t.parts.length;v<=D;v++)h.length&&i.push(h.shift()),i.push(d[t.parts[v]]);return i.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+V.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+V.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};C.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+C.headTemplate+"<tbody></tbody>"+C.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+C.headTemplate+C.contTemplate+C.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+C.headTemplate+C.contTemplate+C.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+C.headTemplate+C.contTemplate+C.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+C.headTemplate+C.contTemplate+C.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=C,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=E,this},e.fn.datepicker.version="1.10.0",e.fn.datepicker.deprecated=function(i){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+i)},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(i){var t=e(this);t.data("datepicker")||(i.preventDefault(),R.call(t,"show"))}),e(function(){R.call(e('[data-provide="datepicker-inline"]'))})})})();var K=Z;function Z(){var r=[].slice.call(arguments),e=!1;typeof r[0]=="boolean"&&(e=r.shift());var s=r[0];if(G(s))throw new Error("extendee must be an object");for(var a=r.slice(1),n=a.length,l=0;l<n;l++){var u=a[l];for(var c in u)if(Object.prototype.hasOwnProperty.call(u,c)){var f=u[c];if(e&&re(f)){var g=Array.isArray(f)?[]:{};s[c]=Z(!0,Object.prototype.hasOwnProperty.call(s,c)&&!G(s[c])?s[c]:g,f)}else s[c]=f}}return s}function re(r){return Array.isArray(r)||{}.toString.call(r)=="[object Object]"}function G(r){return!r||typeof r!="object"&&typeof r!="function"}function oe(r){return r&&r.__esModule?r.default:r}class J{on(e,s){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(s),this}emit(e,...s){this._callbacks=this._callbacks||{};let a=this._callbacks[e];if(a)for(let n of a)n.apply(this,s);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+e,{args:s})),this}makeEvent(e,s){let a={bubbles:!0,cancelable:!0,detail:s};if(typeof window.CustomEvent=="function")return new CustomEvent(e,a);var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,a.bubbles,a.cancelable,a.detail),n}off(e,s){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let a=this._callbacks[e];if(!a)return this;if(arguments.length===1)return delete this._callbacks[e],this;for(let n=0;n<a.length;n++)if(a[n]===s){a.splice(n,1);break}return this}}var $={};$=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let le={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(r,e,s){if(s)return{dzuuid:s.file.upload.uuid,dzchunkindex:s.index,dztotalfilesize:s.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:s.file.upload.totalChunkCount,dzchunkbyteoffset:s.index*this.options.chunkSize}},accept(r,e){return e()},chunksUploaded:function(r,e){e()},binaryBody:!1,fallback(){let r;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let s of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(s.className)){r=s,s.className="dz-message";break}r||(r=p.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(r));let e=r.getElementsByTagName("span")[0];return e&&(e.textContent!=null?e.textContent=this.options.dictFallbackMessage:e.innerText!=null&&(e.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(r,e,s,a){let n={srcX:0,srcY:0,srcWidth:r.width,srcHeight:r.height},l=r.width/r.height;e==null&&s==null?(e=n.srcWidth,s=n.srcHeight):e==null?e=s*l:s==null&&(s=e/l),e=Math.min(e,n.srcWidth),s=Math.min(s,n.srcHeight);let u=e/s;if(n.srcWidth>e||n.srcHeight>s)if(a==="crop")l>u?(n.srcHeight=r.height,n.srcWidth=n.srcHeight*u):(n.srcWidth=r.width,n.srcHeight=n.srcWidth/u);else if(a==="contain")l>u?s=e/l:e=s*l;else throw new Error(`Unknown resizeMethod '${a}'`);return n.srcX=(r.width-n.srcWidth)/2,n.srcY=(r.height-n.srcHeight)/2,n.trgWidth=e,n.trgHeight=s,n},transformFile(r,e){return(this.options.resizeWidth||this.options.resizeHeight)&&r.type.match(/image.*/)?this.resizeImage(r,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(r)},previewTemplate:oe($),drop(r){return this.element.classList.remove("dz-drag-hover")},dragstart(r){},dragend(r){return this.element.classList.remove("dz-drag-hover")},dragenter(r){return this.element.classList.add("dz-drag-hover")},dragover(r){return this.element.classList.add("dz-drag-hover")},dragleave(r){return this.element.classList.remove("dz-drag-hover")},paste(r){},reset(){return this.element.classList.remove("dz-started")},addedfile(r){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){r.previewElement=p.createElement(this.options.previewTemplate.trim()),r.previewTemplate=r.previewElement,this.previewsContainer.appendChild(r.previewElement);for(var e of r.previewElement.querySelectorAll("[data-dz-name]"))e.textContent=r.name;for(e of r.previewElement.querySelectorAll("[data-dz-size]"))e.innerHTML=this.filesize(r.size);this.options.addRemoveLinks&&(r._removeLink=p.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),r.previewElement.appendChild(r._removeLink));let s=a=>(a.preventDefault(),a.stopPropagation(),r.status===p.UPLOADING?p.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(r)):this.options.dictRemoveFileConfirmation?p.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(r)):this.removeFile(r));for(let a of r.previewElement.querySelectorAll("[data-dz-remove]"))a.addEventListener("click",s)}},removedfile(r){return r.previewElement!=null&&r.previewElement.parentNode!=null&&r.previewElement.parentNode.removeChild(r.previewElement),this._updateMaxFilesReachedClass()},thumbnail(r,e){if(r.previewElement){r.previewElement.classList.remove("dz-file-preview");for(let s of r.previewElement.querySelectorAll("[data-dz-thumbnail]"))s.alt=r.name,s.src=e;return setTimeout(()=>r.previewElement.classList.add("dz-image-preview"),1)}},error(r,e){if(r.previewElement){r.previewElement.classList.add("dz-error"),typeof e!="string"&&e.error&&(e=e.error);for(let s of r.previewElement.querySelectorAll("[data-dz-errormessage]"))s.textContent=e}},errormultiple(){},processing(r){if(r.previewElement&&(r.previewElement.classList.add("dz-processing"),r._removeLink))return r._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(r,e,s){if(r.previewElement)for(let a of r.previewElement.querySelectorAll("[data-dz-uploadprogress]"))a.nodeName==="PROGRESS"?a.value=e:a.style.width=`${e}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(r){if(r.previewElement)return r.previewElement.classList.add("dz-success")},successmultiple(){},canceled(r){return this.emit("error",r,this.options.dictUploadCanceled)},canceledmultiple(){},complete(r){if(r._removeLink&&(r._removeLink.innerHTML=this.options.dictRemoveFile),r.previewElement)return r.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var he=le;class p extends J{static initClass(){this.prototype.Emitter=J,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(e=>e.accepted).map(e=>e)}getRejectedFiles(){return this.files.filter(e=>!e.accepted).map(e=>e)}getFilesWithStatus(e){return this.files.filter(s=>s.status===e).map(s=>s)}getQueuedFiles(){return this.getFilesWithStatus(p.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(p.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(p.ADDED)}getActiveFiles(){return this.files.filter(e=>e.status===p.UPLOADING||e.status===p.QUEUED).map(e=>e)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(p.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let a=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",p.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:n}=this.hiddenFileInput;if(n.length)for(let l of n)this.addFile(l);this.emit("addedfiles",n),a()})};a()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let a of this.events)this.on(a,this.options[a]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",a=>this.emit("complete",a)),this.on("complete",a=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const e=function(a){if(a.dataTransfer.types){for(var n=0;n<a.dataTransfer.types.length;n++)if(a.dataTransfer.types[n]==="Files")return!0}return!1};let s=function(a){if(e(a))return a.stopPropagation(),a.preventDefault?a.preventDefault():a.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:a=>this.emit("dragstart",a),dragenter:a=>(s(a),this.emit("dragenter",a)),dragover:a=>{let n;try{n=a.dataTransfer.effectAllowed}catch{}return a.dataTransfer.dropEffect=n==="move"||n==="linkMove"?"move":"copy",s(a),this.emit("dragover",a)},dragleave:a=>this.emit("dragleave",a),drop:a=>(s(a),this.drop(a)),dragend:a=>this.emit("dragend",a)}}],this.clickableElements.forEach(a=>this.listeners.push({element:a,events:{click:n=>((a!==this.element||n.target===this.element||p.elementInside(n.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,p.instances.splice(p.instances.indexOf(this),1)}updateTotalUploadProgress(){let e,s=0,a=0;if(this.getActiveFiles().length){for(let l of this.getActiveFiles())s+=l.upload.bytesSent,a+=l.upload.total;e=100*s/a}else e=100;return this.emit("totaluploadprogress",e,a,s)}_getParamName(e){return typeof this.options.paramName=="function"?this.options.paramName(e):`${this.options.paramName}${this.options.uploadMultiple?`[${e}]`:""}`}_renameFile(e){return typeof this.options.renameFile!="function"?e.name:this.options.renameFile(e)}getFallbackForm(){let e,s;if(e=this.getExistingFallback())return e;let a='<div class="dz-fallback">';this.options.dictFallbackText&&(a+=`<p>${this.options.dictFallbackText}</p>`),a+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let n=p.createElement(a);return this.element.tagName!=="FORM"?(s=p.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),s.appendChild(n)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),s??n}getExistingFallback(){let e=function(a){for(let n of a)if(/(^| )fallback($| )/.test(n.className))return n};for(let a of["div","form"]){var s;if(s=e(this.element.getElementsByTagName(a)))return s}}setupEventListeners(){return this.listeners.map(e=>(()=>{let s=[];for(let a in e.events){let n=e.events[a];s.push(e.element.addEventListener(a,n,!1))}return s})())}removeEventListeners(){return this.listeners.map(e=>(()=>{let s=[];for(let a in e.events){let n=e.events[a];s.push(e.element.removeEventListener(a,n,!1))}return s})())}disable(){return this.clickableElements.forEach(e=>e.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(e=>this.cancelUpload(e))}enable(){return delete this.disabled,this.clickableElements.forEach(e=>e.classList.add("dz-clickable")),this.setupEventListeners()}filesize(e){let s=0,a="b";if(e>0){let n=["tb","gb","mb","kb","b"];for(let l=0;l<n.length;l++){let u=n[l],c=Math.pow(this.options.filesizeBase,4-l)/10;if(e>=c){s=e/Math.pow(this.options.filesizeBase,4-l),a=u;break}}s=Math.round(10*s)/10}return`<strong>${s}</strong> ${this.options.dictFileSizeUnits[a]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(e){if(!e.dataTransfer)return;this.emit("drop",e);let s=[];for(let a=0;a<e.dataTransfer.files.length;a++)s[a]=e.dataTransfer.files[a];if(s.length){let{items:a}=e.dataTransfer;a&&a.length&&a[0].webkitGetAsEntry!=null?this._addFilesFromItems(a):this.handleFiles(s)}this.emit("addedfiles",s)}paste(e){if(me(e!=null?e.clipboardData:void 0,a=>a.items)==null)return;this.emit("paste",e);let{items:s}=e.clipboardData;if(s.length)return this._addFilesFromItems(s)}handleFiles(e){for(let s of e)this.addFile(s)}_addFilesFromItems(e){return(()=>{let s=[];for(let n of e){var a;n.webkitGetAsEntry!=null&&(a=n.webkitGetAsEntry())?a.isFile?s.push(this.addFile(n.getAsFile())):a.isDirectory?s.push(this._addFilesFromDirectory(a,a.name)):s.push(void 0):n.getAsFile!=null&&(n.kind==null||n.kind==="file")?s.push(this.addFile(n.getAsFile())):s.push(void 0)}return s})()}_addFilesFromDirectory(e,s){let a=e.createReader(),n=u=>fe(console,"log",c=>c.log(u));var l=()=>a.readEntries(u=>{if(u.length>0){for(let c of u)c.isFile?c.file(f=>{if(!(this.options.ignoreHiddenFiles&&f.name.substring(0,1)==="."))return f.fullPath=`${s}/${f.name}`,this.addFile(f)}):c.isDirectory&&this._addFilesFromDirectory(c,`${s}/${c.name}`);l()}return null},n);return l()}accept(e,s){this.options.maxFilesize&&e.size>this.options.maxFilesize*1048576?s(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):p.isValidFile(e,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(s(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,s):s(this.options.dictInvalidFileType)}addFile(e){e.upload={uuid:p.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=p.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,s=>{s?(e.accepted=!1,this._errorProcessing([e],s)):(e.accepted=!0,this.options.autoQueue&&this.enqueueFile(e)),this._updateMaxFilesReachedClass()})}enqueueFiles(e){for(let s of e)this.enqueueFile(s);return null}enqueueFile(e){if(e.status===p.ADDED&&e.accepted===!0){if(e.status=p.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(e),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,s=>(this.emit("thumbnail",e,s),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(e){if(e.status===p.UPLOADING&&this.cancelUpload(e),this.files=de(this.files,e),this.emit("removedfile",e),this.files.length===0)return this.emit("reset")}removeAllFiles(e){e==null&&(e=!1);for(let s of this.files.slice())(s.status!==p.UPLOADING||e)&&this.removeFile(s);return null}resizeImage(e,s,a,n,l){return this.createThumbnail(e,s,a,n,!0,(u,c)=>{if(c==null)return l(e);{let{resizeMimeType:f}=this.options;f==null&&(f=e.type);let g=c.toDataURL(f,this.options.resizeQuality);return(f==="image/jpeg"||f==="image/jpg")&&(g=ee.restore(e.dataURL,g)),l(p.dataURItoBlob(g))}})}createThumbnail(e,s,a,n,l,u){let c=new FileReader;c.onload=()=>{if(e.dataURL=c.result,e.type==="image/svg+xml"){u!=null&&u(c.result);return}this.createThumbnailFromUrl(e,s,a,n,l,u)},c.readAsDataURL(e)}displayExistingFile(e,s,a,n,l=!0){if(this.emit("addedfile",e),this.emit("complete",e),!l)this.emit("thumbnail",e,s),a&&a();else{let u=c=>{this.emit("thumbnail",e,c),a&&a()};e.dataURL=s,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,u,n)}}createThumbnailFromUrl(e,s,a,n,l,u,c){let f=document.createElement("img");return c&&(f.crossOrigin=c),l=getComputedStyle(document.body).imageOrientation=="from-image"?!1:l,f.onload=()=>{let g=w=>w(1);return typeof EXIF<"u"&&EXIF!==null&&l&&(g=w=>EXIF.getData(f,function(){return w(EXIF.getTag(this,"Orientation"))})),g(w=>{e.width=f.width,e.height=f.height;let k=this.options.resize.call(this,e,s,a,n),T=document.createElement("canvas"),E=T.getContext("2d");switch(T.width=k.trgWidth,T.height=k.trgHeight,w>4&&(T.width=k.trgHeight,T.height=k.trgWidth),w){case 2:E.translate(T.width,0),E.scale(-1,1);break;case 3:E.translate(T.width,T.height),E.rotate(Math.PI);break;case 4:E.translate(0,T.height),E.scale(1,-1);break;case 5:E.rotate(.5*Math.PI),E.scale(1,-1);break;case 6:E.rotate(.5*Math.PI),E.translate(0,-T.width);break;case 7:E.rotate(.5*Math.PI),E.translate(T.height,-T.width),E.scale(-1,1);break;case 8:E.rotate(-.5*Math.PI),E.translate(-T.height,0);break}ce(E,f,k.srcX!=null?k.srcX:0,k.srcY!=null?k.srcY:0,k.srcWidth,k.srcHeight,k.trgX!=null?k.trgX:0,k.trgY!=null?k.trgY:0,k.trgWidth,k.trgHeight);let R=T.toDataURL("image/png");if(u!=null)return u(R,T)})},u!=null&&(f.onerror=u),f.src=e.dataURL}processQueue(){let{parallelUploads:e}=this.options,s=this.getUploadingFiles().length,a=s;if(s>=e)return;let n=this.getQueuedFiles();if(n.length>0){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,e-s));for(;a<e;){if(!n.length)return;this.processFile(n.shift()),a++}}}processFile(e){return this.processFiles([e])}processFiles(e){for(let s of e)s.processing=!0,s.status=p.UPLOADING,this.emit("processing",s);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}_getFilesWithXhr(e){return this.files.filter(s=>s.xhr===e).map(s=>s)}cancelUpload(e){if(e.status===p.UPLOADING){let s=this._getFilesWithXhr(e.xhr);for(let a of s)a.status=p.CANCELED;typeof e.xhr<"u"&&e.xhr.abort();for(let a of s)this.emit("canceled",a);this.options.uploadMultiple&&this.emit("canceledmultiple",s)}else(e.status===p.ADDED||e.status===p.QUEUED)&&(e.status=p.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(e,...s){return typeof e=="function"?e.apply(this,s):e}uploadFile(e){return this.uploadFiles([e])}uploadFiles(e){this._transformFiles(e,s=>{if(this.options.chunking){let a=s[0];e[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||a.size>this.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(a.size/this.options.chunkSize)}if(e[0].upload.chunked){let a=e[0],n=s[0];a.upload.chunks=[];let l=()=>{let u=0;for(;a.upload.chunks[u]!==void 0;)u++;if(u>=a.upload.totalChunkCount)return;let c=u*this.options.chunkSize,f=Math.min(c+this.options.chunkSize,n.size),g={name:this._getParamName(0),data:n.webkitSlice?n.webkitSlice(c,f):n.slice(c,f),filename:a.upload.filename,chunkIndex:u};a.upload.chunks[u]={file:a,index:u,dataBlock:g,status:p.UPLOADING,progress:0,retries:0},this._uploadData(e,[g])};if(a.upload.finishedChunkUpload=(u,c)=>{let f=!0;u.status=p.SUCCESS,u.dataBlock=null,u.response=u.xhr.responseText,u.responseHeaders=u.xhr.getAllResponseHeaders(),u.xhr=null;for(let g=0;g<a.upload.totalChunkCount;g++){if(a.upload.chunks[g]===void 0)return l();a.upload.chunks[g].status!==p.SUCCESS&&(f=!1)}f&&this.options.chunksUploaded(a,()=>{this._finished(e,c,null)})},this.options.parallelChunkUploads)for(let u=0;u<a.upload.totalChunkCount;u++)l();else l()}else{let a=[];for(let n=0;n<e.length;n++)a[n]={name:this._getParamName(n),data:s[n],filename:e[n].upload.filename};this._uploadData(e,a)}})}_getChunk(e,s){for(let a=0;a<e.upload.totalChunkCount;a++)if(e.upload.chunks[a]!==void 0&&e.upload.chunks[a].xhr===s)return e.upload.chunks[a]}_uploadData(e,s){let a=new XMLHttpRequest;for(let g of e)g.xhr=a;e[0].upload.chunked&&(e[0].upload.chunks[s[0].chunkIndex].xhr=a);let n=this.resolveOption(this.options.method,e,s),l=this.resolveOption(this.options.url,e,s);a.open(n,l,!0),this.resolveOption(this.options.timeout,e)&&(a.timeout=this.resolveOption(this.options.timeout,e)),a.withCredentials=!!this.options.withCredentials,a.onload=g=>{this._finishedUploading(e,a,g)},a.ontimeout=()=>{this._handleUploadError(e,a,`Request timedout after ${this.options.timeout/1e3} seconds`)},a.onerror=()=>{this._handleUploadError(e,a)};let c=a.upload!=null?a.upload:a;c.onprogress=g=>this._updateFilesUploadProgress(e,a,g);let f=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(f["Content-Type"]=e[0].type),this.options.headers&&K(f,this.options.headers);for(let g in f){let w=f[g];w&&a.setRequestHeader(g,w)}if(this.options.binaryBody){for(let g of e)this.emit("sending",g,a);this.options.uploadMultiple&&this.emit("sendingmultiple",e,a),this.submitRequest(a,null,e)}else{let g=new FormData;if(this.options.params){let w=this.options.params;typeof w=="function"&&(w=w.call(this,e,a,e[0].upload.chunked?this._getChunk(e[0],a):null));for(let k in w){let T=w[k];if(Array.isArray(T))for(let E=0;E<T.length;E++)g.append(k,T[E]);else g.append(k,T)}}for(let w of e)this.emit("sending",w,a,g);this.options.uploadMultiple&&this.emit("sendingmultiple",e,a,g),this._addFormElementData(g);for(let w=0;w<s.length;w++){let k=s[w];g.append(k.name,k.data,k.filename)}this.submitRequest(a,g,e)}}_transformFiles(e,s){let a=[],n=0;for(let l=0;l<e.length;l++)this.options.transformFile.call(this,e[l],u=>{a[l]=u,++n===e.length&&s(a)})}_addFormElementData(e){if(this.element.tagName==="FORM")for(let s of this.element.querySelectorAll("input, textarea, select, button")){let a=s.getAttribute("name"),n=s.getAttribute("type");if(n&&(n=n.toLowerCase()),!(typeof a>"u"||a===null))if(s.tagName==="SELECT"&&s.hasAttribute("multiple"))for(let l of s.options)l.selected&&e.append(a,l.value);else(!n||n!=="checkbox"&&n!=="radio"||s.checked)&&e.append(a,s.value)}}_updateFilesUploadProgress(e,s,a){if(e[0].upload.chunked){let n=e[0],l=this._getChunk(n,s);a?(l.progress=100*a.loaded/a.total,l.total=a.total,l.bytesSent=a.loaded):(l.progress=100,l.bytesSent=l.total),n.upload.progress=0,n.upload.total=0,n.upload.bytesSent=0;for(let u=0;u<n.upload.totalChunkCount;u++)n.upload.chunks[u]&&typeof n.upload.chunks[u].progress<"u"&&(n.upload.progress+=n.upload.chunks[u].progress,n.upload.total+=n.upload.chunks[u].total,n.upload.bytesSent+=n.upload.chunks[u].bytesSent);n.upload.progress=n.upload.progress/n.upload.totalChunkCount,this.emit("uploadprogress",n,n.upload.progress,n.upload.bytesSent)}else for(let n of e)n.upload.total&&n.upload.bytesSent&&n.upload.bytesSent==n.upload.total||(a?(n.upload.progress=100*a.loaded/a.total,n.upload.total=a.total,n.upload.bytesSent=a.loaded):(n.upload.progress=100,n.upload.bytesSent=n.upload.total),this.emit("uploadprogress",n,n.upload.progress,n.upload.bytesSent))}_finishedUploading(e,s,a){let n;if(e[0].status!==p.CANCELED&&s.readyState===4){if(s.responseType!=="arraybuffer"&&s.responseType!=="blob"&&(n=s.responseText,s.getResponseHeader("content-type")&&~s.getResponseHeader("content-type").indexOf("application/json")))try{n=JSON.parse(n)}catch(l){a=l,n="Invalid JSON response from server."}this._updateFilesUploadProgress(e,s),200<=s.status&&s.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],s),n):this._finished(e,n,a):this._handleUploadError(e,s,n)}}_handleUploadError(e,s,a){if(e[0].status!==p.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){let n=this._getChunk(e[0],s);if(n.retries++<this.options.retryChunksLimit){this._uploadData(e,[n.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,a||this.options.dictResponseError.replace("{{statusCode}}",s.status),s)}}submitRequest(e,s,a){if(e.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(a[0].upload.chunked){const n=this._getChunk(a[0],e);e.send(n.dataBlock.data)}else e.send(a[0]);else e.send(s)}_finished(e,s,a){for(let n of e)n.status=p.SUCCESS,this.emit("success",n,s,a),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,s,a),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(e,s,a){for(let n of e)n.status=p.ERROR,this.emit("error",n,s,a),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,s,a),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let s=Math.random()*16|0;return(e==="x"?s:s&3|8).toString(16)})}constructor(e,s){super();let a,n;if(this.element=e,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");p.instances.push(this),this.element.dropzone=this;let l=(n=p.optionsForElement(this.element))!=null?n:{};if(this.options=K(!0,{},he,l,s??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!p.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=u=>this.options.renameFilename.call(this,u.name,u)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(a=this.getExistingFallback())&&a.parentNode&&a.parentNode.removeChild(a),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=p.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=p.getElements(this.options.clickable,"clickable")),this.init()}}p.initClass();p.options={};p.optionsForElement=function(r){if(r.getAttribute("id"))return p.options[ue(r.getAttribute("id"))]};p.instances=[];p.forElement=function(r){if(typeof r=="string"&&(r=document.querySelector(r)),(r!=null?r.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return r.dropzone};p.discover=function(){let r;if(document.querySelectorAll)r=document.querySelectorAll(".dropzone");else{r=[];let e=s=>(()=>{let a=[];for(let n of s)/(^| )dropzone($| )/.test(n.className)?a.push(r.push(n)):a.push(void 0);return a})();e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return(()=>{let e=[];for(let s of r)p.optionsForElement(s)!==!1?e.push(new p(s)):e.push(void 0);return e})()};p.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];p.isBrowserSupported=function(){let r=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))r=!1;else{p.blacklistedBrowsers!==void 0&&(p.blockedBrowsers=p.blacklistedBrowsers);for(let e of p.blockedBrowsers)if(e.test(navigator.userAgent)){r=!1;continue}}else r=!1;return r};p.dataURItoBlob=function(r){let e=atob(r.split(",")[1]),s=r.split(",")[0].split(":")[1].split(";")[0],a=new ArrayBuffer(e.length),n=new Uint8Array(a);for(let l=0,u=e.length,c=0<=u;c?l<=u:l>=u;c?l++:l--)n[l]=e.charCodeAt(l);return new Blob([a],{type:s})};const de=(r,e)=>r.filter(s=>s!==e).map(s=>s),ue=r=>r.replace(/[\-_](\w)/g,e=>e.charAt(1).toUpperCase());p.createElement=function(r){let e=document.createElement("div");return e.innerHTML=r,e.childNodes[0]};p.elementInside=function(r,e){if(r===e)return!0;for(;r=r.parentNode;)if(r===e)return!0;return!1};p.getElement=function(r,e){let s;if(typeof r=="string"?s=document.querySelector(r):r.nodeType!=null&&(s=r),s==null)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector or a plain HTML element.`);return s};p.getElements=function(r,e){let s,a;if(r instanceof Array){a=[];try{for(s of r)a.push(this.getElement(s,e))}catch{a=null}}else if(typeof r=="string"){a=[];for(s of document.querySelectorAll(r))a.push(s)}else r.nodeType!=null&&(a=[r]);if(a==null||!a.length)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return a};p.confirm=function(r,e,s){if(window.confirm(r))return e();if(s!=null)return s()};p.isValidFile=function(r,e){if(!e)return!0;e=e.split(",");let s=r.type,a=s.replace(/\/.*$/,"");for(let n of e)if(n=n.trim(),n.charAt(0)==="."){if(r.name.toLowerCase().indexOf(n.toLowerCase(),r.name.length-n.length)!==-1)return!0}else if(/\/\*$/.test(n)){if(a===n.replace(/\/.*$/,""))return!0}else if(s===n)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(r){return this.each(function(){return new p(this,r)})});p.ADDED="added";p.QUEUED="queued";p.ACCEPTED=p.QUEUED;p.UPLOADING="uploading";p.PROCESSING=p.UPLOADING;p.CANCELED="canceled";p.ERROR="error";p.SUCCESS="success";let pe=function(r){r.naturalWidth;let e=r.naturalHeight,s=document.createElement("canvas");s.width=1,s.height=e;let a=s.getContext("2d");a.drawImage(r,0,0);let{data:n}=a.getImageData(1,0,1,e),l=0,u=e,c=e;for(;c>l;)n[(c-1)*4+3]===0?u=c:l=c,c=u+l>>1;let f=c/e;return f===0?1:f};var ce=function(r,e,s,a,n,l,u,c,f,g){let w=pe(e);return r.drawImage(e,s,a,n,l,u,c,f,g/w)};class ee{static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(e){let s="",a,n,l="",u,c,f,g="",w=0;for(;a=e[w++],n=e[w++],l=e[w++],u=a>>2,c=(a&3)<<4|n>>4,f=(n&15)<<2|l>>6,g=l&63,isNaN(n)?f=g=64:isNaN(l)&&(g=64),s=s+this.KEY_STR.charAt(u)+this.KEY_STR.charAt(c)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(g),a=n=l="",u=c=f=g="",w<e.length;);return s}static restore(e,s){if(!e.match("data:image/jpeg;base64,"))return s;let a=this.decode64(e.replace("data:image/jpeg;base64,","")),n=this.slice2Segments(a),l=this.exifManipulation(s,n);return`data:image/jpeg;base64,${this.encode64(l)}`}static exifManipulation(e,s){let a=this.getExifArray(s),n=this.insertExif(e,a);return new Uint8Array(n)}static getExifArray(e){let s,a=0;for(;a<e.length;){if(s=e[a],s[0]===255&s[1]===225)return s;a++}return[]}static insertExif(e,s){let a=e.replace("data:image/jpeg;base64,",""),n=this.decode64(a),l=n.indexOf(255,3),u=n.slice(0,l),c=n.slice(l),f=u;return f=f.concat(s),f=f.concat(c),f}static slice2Segments(e){let s=0,a=[];for(;;){var n;if(e[s]===255&e[s+1]===218)break;if(e[s]===255&e[s+1]===216)s+=2;else{n=e[s+2]*256+e[s+3];let l=s+n+2,u=e.slice(s,l);a.push(u),s=l}if(s>e.length)break}return a}static decode64(e){let s,a,n="",l,u,c,f="",g=0,w=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l=this.KEY_STR.indexOf(e.charAt(g++)),u=this.KEY_STR.indexOf(e.charAt(g++)),c=this.KEY_STR.indexOf(e.charAt(g++)),f=this.KEY_STR.indexOf(e.charAt(g++)),s=l<<2|u>>4,a=(u&15)<<4|c>>2,n=(c&3)<<6|f,w.push(s),c!==64&&w.push(a),f!==64&&w.push(n),s=a=n="",l=u=c=f="",g<e.length;);return w}}ee.initClass();function me(r,e){return typeof r<"u"&&r!==null?e(r):void 0}function fe(r,e,s){if(typeof r<"u"&&r!==null&&typeof r[e]=="function")return s(r,e)}ae(window,jQuery);(function(r){var e=function(){this.$body=r("body")};e.prototype.init=function(){p.autoDiscover=!1,r('[data-plugin="dropzone"]').each(function(){var s=r(this).attr("action"),a=r(this).data("previewsContainer"),n=r('meta[name="csrf-token"]').attr("content"),l={url:s,headers:{"X-CSRF-TOKEN":n}};a&&(l.previewsContainer=a);var u=r(this).data("uploadPreviewTemplate");u&&(l.previewTemplate=r(u).html());var c=r(this).data("autoProcessQueue");c?l.autoProcessQueue=!0:l.autoProcessQueue=!1;var f=r(this).data("uploadMultiple");f?l.uploadMultiple=!0:l.uploadMultiple=!1;var g=r(this).data("parallelUploads");g&&(l.parallelUploads=g);var w=r(this).data("maxFilesize");w&&(l.maxFilesize=w);var k=r(this).data("maxFiles");k&&(l.maxFiles=k);var T=r(this).data("thumbnailWidth");T&&(l.thumbnailWidth=T);var E=r(this).data("acceptedFiles");E&&(l.acceptedFiles=E),l.init=function(){var R=this,V=document.getElementById("dropzoneSubmit");V&&V.addEventListener("click",function(Y){Y.preventDefault(),Y.stopPropagation(),R.processQueue()}),R.on("success",function(){this.removeAllFiles(!0);var Y=new Event("dropzoneSuccessEvent");document.dispatchEvent(Y)}),R.on("error",function(Y,b){this.removeAllFiles(!0);var C=new CustomEvent("dropzoneErrorEvent",{detail:{errorMessage:b.error}});document.dispatchEvent(C)})},r(this).dropzone(l)})},r.FileUpload=new e,r.FileUpload.Constructor=e})(window.jQuery),function(r){r.FileUpload.init()}(window.jQuery);
