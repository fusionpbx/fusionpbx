import{s as ne}from"./select2-09f14948.js";import{j as ae}from"./jquery-f66a0d01.js";import"./_commonjsHelpers-de833af9.js";/*!
 * Datepicker for Bootstrap v1.10.0 (https://github.com/uxsolutions/bootstrap-datepicker)
 *
 * Licensed under the Apache License v2.0 (https://www.apache.org/licenses/LICENSE-2.0)
 */(function(r){(function(e){e(ae)})(function(e,s){function n(){return new Date(Date.UTC.apply(Date,arguments))}function a(){var i=new Date;return n(i.getFullYear(),i.getMonth(),i.getDate())}function h(i,t){return i.getUTCFullYear()===t.getUTCFullYear()&&i.getUTCMonth()===t.getUTCMonth()&&i.getUTCDate()===t.getUTCDate()}function u(i,t){return function(){return t!==s&&e.fn.datepicker.deprecated(t),this[i].apply(this,arguments)}}function c(i){return i&&!isNaN(i.getTime())}function f(i,t){function o(T,m){return m.toLowerCase()}var d,l=e(i).data(),v={},w=new RegExp("^"+t.toLowerCase()+"([A-Z])");t=new RegExp("^"+t.toLowerCase());for(var y in l)t.test(y)&&(d=y.replace(w,o),v[d]=l[y]);return v}function g(i){var t={};if(M[i]||(i=i.split("-")[0],M[i])){var o=M[i];return e.each(ee,function(d,l){l in o&&(t[l]=o[l])}),t}}var D=function(){var i={get:function(t){return this.slice(t)[0]},contains:function(t){for(var o=t&&t.valueOf(),d=0,l=this.length;d<l;d++)if(0<=this[d].valueOf()-o&&this[d].valueOf()-o<864e5)return d;return-1},remove:function(t){this.splice(t,1)},replace:function(t){t&&(Array.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var t=new D;return t.replace(this),t}};return function(){var t=[];return t.push.apply(t,arguments),e.extend(t,i),t}}(),k=function(i,t){e.data(i,"datepicker",this),this._events=[],this._secondaryEvents=[],this._process_options(t),this.dates=new D,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=e(i),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .input-group-append, .input-group-prepend, .btn"),this.component&&this.component.length===0&&(this.component=!1),this.o.isInline===null?this.isInline=!this.component&&!this.isInput:this.isInline=this.o.isInline,this.picker=e(C.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.o.calendarWeeks&&this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(o,d){return Number(d)+1}),this._process_options({startDate:this._o.startDate,endDate:this._o.endDate,daysOfWeekDisabled:this.o.daysOfWeekDisabled,daysOfWeekHighlighted:this.o.daysOfWeekHighlighted,datesDisabled:this.o.datesDisabled}),this._allow_update=!1,this.setViewMode(this.o.startView),this._allow_update=!0,this.fillDow(),this.fillMonths(),this.update(),this.isInline&&this.show()};k.prototype={constructor:k,_resolveViewName:function(i){return e.each(C.viewModes,function(t,o){if(i===t||e.inArray(i,o.names)!==-1)return i=t,!1}),i},_resolveDaysOfWeek:function(i){return Array.isArray(i)||(i=i.split(/[,\s]*/)),e.map(i,Number)},_check_template:function(i){try{return i===s||i===""?!1:(i.match(/[<>]/g)||[]).length<=0?!0:e(i).length>0}catch{return!1}},_process_options:function(i){this._o=e.extend({},this._o,i);var t=this.o=e.extend({},this._o),o=t.language;M[o]||(o=o.split("-")[0],M[o]||(o=B.language)),t.language=o,t.startView=this._resolveViewName(t.startView),t.minViewMode=this._resolveViewName(t.minViewMode),t.maxViewMode=this._resolveViewName(t.maxViewMode),t.startView=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,t.startView)),t.multidate!==!0&&(t.multidate=Number(t.multidate)||!1,t.multidate!==!1&&(t.multidate=Math.max(0,t.multidate))),t.multidateSeparator=String(t.multidateSeparator),t.weekStart%=7,t.weekEnd=(t.weekStart+6)%7;var d=C.parseFormat(t.format);t.startDate!==-1/0&&(t.startDate?t.startDate instanceof Date?t.startDate=this._local_to_utc(this._zero_time(t.startDate)):t.startDate=C.parseDate(t.startDate,d,t.language,t.assumeNearbyYear):t.startDate=-1/0),t.endDate!==1/0&&(t.endDate?t.endDate instanceof Date?t.endDate=this._local_to_utc(this._zero_time(t.endDate)):t.endDate=C.parseDate(t.endDate,d,t.language,t.assumeNearbyYear):t.endDate=1/0),t.daysOfWeekDisabled=this._resolveDaysOfWeek(t.daysOfWeekDisabled||[]),t.daysOfWeekHighlighted=this._resolveDaysOfWeek(t.daysOfWeekHighlighted||[]),t.datesDisabled=t.datesDisabled||[],Array.isArray(t.datesDisabled)||(t.datesDisabled=t.datesDisabled.split(",")),t.datesDisabled=e.map(t.datesDisabled,function(m){return C.parseDate(m,d,t.language,t.assumeNearbyYear)});var l=String(t.orientation).toLowerCase().split(/\s+/g),v=t.orientation.toLowerCase();if(l=e.grep(l,function(m){return/^auto|left|right|top|bottom$/.test(m)}),t.orientation={x:"auto",y:"auto"},v&&v!=="auto")if(l.length===1)switch(l[0]){case"top":case"bottom":t.orientation.y=l[0];break;case"left":case"right":t.orientation.x=l[0]}else v=e.grep(l,function(m){return/^left|right$/.test(m)}),t.orientation.x=v[0]||"auto",v=e.grep(l,function(m){return/^top|bottom$/.test(m)}),t.orientation.y=v[0]||"auto";if(t.defaultViewDate instanceof Date||typeof t.defaultViewDate=="string")t.defaultViewDate=C.parseDate(t.defaultViewDate,d,t.language,t.assumeNearbyYear);else if(t.defaultViewDate){var w=t.defaultViewDate.year||new Date().getFullYear(),y=t.defaultViewDate.month||0,T=t.defaultViewDate.day||1;t.defaultViewDate=n(w,y,T)}else t.defaultViewDate=a()},_applyEvents:function(i){for(var t,o,d,l=0;l<i.length;l++)t=i[l][0],i[l].length===2?(o=s,d=i[l][1]):i[l].length===3&&(o=i[l][1],d=i[l][2]),t.on(d,o)},_unapplyEvents:function(i){for(var t,o,d,l=0;l<i.length;l++)t=i[l][0],i[l].length===2?(d=s,o=i[l][1]):i[l].length===3&&(d=i[l][1],o=i[l][2]),t.off(o,d)},_buildEvents:function(){var i={keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this),paste:e.proxy(this.paste,this)};this.o.showOnFocus===!0&&(i.focus=e.proxy(this.show,this)),this.isInput?this._events=[[this.element,i]]:this.component&&this.inputField.length?this._events=[[this.inputField,i],[this.component,{click:e.proxy(this.show,this)}]]:this._events=[[this.element,{click:e.proxy(this.show,this),keydown:e.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:e.proxy(function(t){this._focused_from=t.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":e.proxy(function(t){this.update(t.date)},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[this.picker,".prev, .next",{click:e.proxy(this.navArrowsClick,this)}],[this.picker,".day:not(.disabled)",{click:e.proxy(this.dayCellClick,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(i,t){var o=t||this.dates.get(-1),d=this._utc_to_local(o);this.element.trigger({type:i,date:d,viewMode:this.viewMode,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(l,v){arguments.length===0?(l=this.dates.length-1,v=this.o.format):typeof l=="string"&&(v=l,l=this.dates.length-1),v=v||this.o.format;var w=this.dates.get(l);return C.formatDate(w,v,this.o.language)},this)})},show:function(){if(!(this.inputField.is(":disabled")||this.inputField.prop("readonly")&&this.o.enableOnReadonly===!1))return this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&e(this.element).blur(),this},hide:function(){return this.isInline||!this.picker.is(":visible")?this:(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.setViewMode(this.o.startView),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide"),this)},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(i){var t;if(i.originalEvent.clipboardData&&i.originalEvent.clipboardData.types&&e.inArray("text/plain",i.originalEvent.clipboardData.types)!==-1)t=i.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;t=window.clipboardData.getData("Text")}this.setDate(t),this.update(),i.preventDefault()},_utc_to_local:function(i){if(!i)return i;var t=new Date(i.getTime()+6e4*i.getTimezoneOffset());return t.getTimezoneOffset()!==i.getTimezoneOffset()&&(t=new Date(i.getTime()+6e4*t.getTimezoneOffset())),t},_local_to_utc:function(i){return i&&new Date(i.getTime()-6e4*i.getTimezoneOffset())},_zero_time:function(i){return i&&new Date(i.getFullYear(),i.getMonth(),i.getDate())},_zero_utc_time:function(i){return i&&n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate())},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(i){return new Date(i)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var i=this.dates.get(-1);return i!==s?new Date(i):null},clearDates:function(){this.inputField.val(""),this._trigger("changeDate"),this.update(),this.o.autoclose&&this.hide()},setDates:function(){var i=Array.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,i),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var i=Array.isArray(arguments[0])?arguments[0]:arguments;return this.setDates.apply(this,e.map(i,this._utc_to_local)),this},setDate:u("setDates"),setUTCDate:u("setUTCDates"),remove:u("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"),setValue:function(){var i=this.getFormattedDate();return this.inputField.val(i),this},getFormattedDate:function(i){i===s&&(i=this.o.format);var t=this.o.language;return e.map(this.dates,function(o){return C.formatDate(o,i,t)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(i){return this._process_options({startDate:i}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(i){return this._process_options({endDate:i}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(i){return this._process_options({daysOfWeekDisabled:i}),this.update(),this},setDaysOfWeekHighlighted:function(i){return this._process_options({daysOfWeekHighlighted:i}),this.update(),this},setDatesDisabled:function(i){return this._process_options({datesDisabled:i}),this.update(),this},place:function(){if(this.isInline)return this;var i=this.picker.outerWidth(),t=this.picker.outerHeight(),o=e(this.o.container),d=o.width(),l=this.o.container==="body"?e(document).scrollTop():o.scrollTop(),v=o.offset(),w=[0];this.element.parents().each(function(){var N=e(this).css("z-index");N!=="auto"&&Number(N)!==0&&w.push(Number(N))});var y=Math.max.apply(Math,w)+this.o.zIndexOffset,T=this.component?this.component.parent().offset():this.element.offset(),m=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),O=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),x=T.left-v.left,A=T.top-v.top;this.o.container!=="body"&&(A+=l),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(x-=i-O)):T.left<0?(this.picker.addClass("datepicker-orient-left"),x-=T.left-10):x+i>d?(this.picker.addClass("datepicker-orient-right"),x+=O-i):this.o.rtl?this.picker.addClass("datepicker-orient-right"):this.picker.addClass("datepicker-orient-left");var L,F=this.o.orientation.y;if(F==="auto"&&(L=-l+A-t,F=L<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+F),F==="top"?A-=t+parseInt(this.picker.css("padding-top")):A+=m,this.o.rtl){var R=d-(x+O);this.picker.css({top:A,right:R,zIndex:y})}else this.picker.css({top:A,left:x,zIndex:y});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var i=this.dates.copy(),t=[],o=!1;return arguments.length?(e.each(arguments,e.proxy(function(d,l){l instanceof Date&&(l=this._local_to_utc(l)),t.push(l)},this)),o=!0):(t=this.isInput?this.element.val():this.element.data("date")||this.inputField.val(),t=t&&this.o.multidate?t.split(this.o.multidateSeparator):[t],delete this.element.data().date),t=e.map(t,e.proxy(function(d){return C.parseDate(d,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),t=e.grep(t,e.proxy(function(d){return!this.dateWithinRange(d)||!d},this),!0),this.dates.replace(t),this.o.updateViewDate&&(this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate),o?(this.setValue(),this.element.change()):this.dates.length&&String(i)!==String(this.dates)&&o&&(this._trigger("changeDate"),this.element.change()),!this.dates.length&&i.length&&(this._trigger("clearDate"),this.element.change()),this.fill(),this},fillDow:function(){if(this.o.showWeekDays){var i=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(t+='<th class="cw">&#160;</th>');i<this.o.weekStart+7;)t+='<th class="dow',e.inArray(i,this.o.daysOfWeekDisabled)!==-1&&(t+=" disabled"),t+='">'+M[this.o.language].daysMin[i++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)}},fillMonths:function(){for(var i,t=this._utc_to_local(this.viewDate),o="",d=0;d<12;d++)i=t&&t.getMonth()===d?" focused":"",o+='<span class="month'+i+'">'+M[this.o.language].monthsShort[d]+"</span>";this.picker.find(".datepicker-months td").html(o)},setRange:function(i){i&&i.length?this.range=e.map(i,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(i){var t=[],o=this.viewDate.getUTCFullYear(),d=this.viewDate.getUTCMonth(),l=a();return i.getUTCFullYear()<o||i.getUTCFullYear()===o&&i.getUTCMonth()<d?t.push("old"):(i.getUTCFullYear()>o||i.getUTCFullYear()===o&&i.getUTCMonth()>d)&&t.push("new"),this.focusDate&&i.valueOf()===this.focusDate.valueOf()&&t.push("focused"),this.o.todayHighlight&&h(i,l)&&t.push("today"),this.dates.contains(i)!==-1&&t.push("active"),this.dateWithinRange(i)||t.push("disabled"),this.dateIsDisabled(i)&&t.push("disabled","disabled-date"),e.inArray(i.getUTCDay(),this.o.daysOfWeekHighlighted)!==-1&&t.push("highlighted"),this.range&&(i>this.range[0]&&i<this.range[this.range.length-1]&&t.push("range"),e.inArray(i.valueOf(),this.range)!==-1&&t.push("selected"),i.valueOf()===this.range[0]&&t.push("range-start"),i.valueOf()===this.range[this.range.length-1]&&t.push("range-end")),t},_fill_yearsView:function(i,t,o,d,l,v,w){for(var y,T,m,O="",x=o/10,A=this.picker.find(i),L=Math.floor(d/o)*o,F=L+9*x,R=Math.floor(this.viewDate.getFullYear()/x)*x,N=e.map(this.dates,function(z){return Math.floor(z.getUTCFullYear()/x)*x}),b=L-x;b<=F+x;b+=x)y=[t],T=null,b===L-x?y.push("old"):b===F+x&&y.push("new"),e.inArray(b,N)!==-1&&y.push("active"),(b<l||b>v)&&y.push("disabled"),b===R&&y.push("focused"),w!==e.noop&&(m=w(new Date(b,0,1)),m===s?m={}:typeof m=="boolean"?m={enabled:m}:typeof m=="string"&&(m={classes:m}),m.enabled===!1&&y.push("disabled"),m.classes&&(y=y.concat(m.classes.split(/\s+/))),m.tooltip&&(T=m.tooltip)),O+='<span class="'+y.join(" ")+'"'+(T?' title="'+T+'"':"")+">"+b+"</span>";A.find(".datepicker-switch").text(L+"-"+F),A.find("td").html(O)},fill:function(){var i,t,o=new Date(this.viewDate),d=o.getUTCFullYear(),l=o.getUTCMonth(),v=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,w=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,y=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,T=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,m=M[this.o.language].today||M.en.today||"",O=M[this.o.language].clear||M.en.clear||"",x=M[this.o.language].titleFormat||M.en.titleFormat,A=a(),L=(this.o.todayBtn===!0||this.o.todayBtn==="linked")&&A>=this.o.startDate&&A<=this.o.endDate&&!this.weekOfDateIsDisabled(A);if(!isNaN(d)&&!isNaN(l)){this.picker.find(".datepicker-days .datepicker-switch").text(C.formatDate(o,x,this.o.language)),this.picker.find("tfoot .today").text(m).css("display",L?"table-cell":"none"),this.picker.find("tfoot .clear").text(O).css("display",this.o.clearBtn===!0?"table-cell":"none"),this.picker.find("thead .datepicker-title").text(this.o.title).css("display",typeof this.o.title=="string"&&this.o.title!==""?"table-cell":"none"),this.updateNavArrows(),this.fillMonths();var F=n(d,l,0),R=F.getUTCDate();F.setUTCDate(R-(F.getUTCDay()-this.o.weekStart+7)%7);var N=new Date(F);F.getUTCFullYear()<100&&N.setUTCFullYear(F.getUTCFullYear()),N.setUTCDate(N.getUTCDate()+42),N=N.valueOf();for(var b,z,V=[];F.valueOf()<N;){if((b=F.getUTCDay())===this.o.weekStart&&(V.push("<tr>"),this.o.calendarWeeks)){var Y=new Date(+F+(this.o.weekStart-b-7)%7*864e5),P=new Date(Number(Y)+(11-Y.getUTCDay())%7*864e5),E=new Date(Number(E=n(P.getUTCFullYear(),0,1))+(11-E.getUTCDay())%7*864e5),S=(P-E)/864e5/7+1;V.push('<td class="cw">'+S+"</td>")}z=this.getClassNames(F),z.push("day");var Q=F.getUTCDate();this.o.beforeShowDay!==e.noop&&(t=this.o.beforeShowDay(this._utc_to_local(F)),t===s?t={}:typeof t=="boolean"?t={enabled:t}:typeof t=="string"&&(t={classes:t}),t.enabled===!1&&z.push("disabled"),t.classes&&(z=z.concat(t.classes.split(/\s+/))),t.tooltip&&(i=t.tooltip),t.content&&(Q=t.content)),z=typeof e.uniqueSort=="function"?e.uniqueSort(z):e.unique(z),V.push('<td class="'+z.join(" ")+'"'+(i?' title="'+i+'"':"")+' data-date="'+F.getTime().toString()+'">'+Q+"</td>"),i=null,b===this.o.weekEnd&&V.push("</tr>"),F.setUTCDate(F.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").html(V.join(""));var te=M[this.o.language].monthsTitle||M.en.monthsTitle||"Months",q=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?te:d).end().find("tbody span").removeClass("active");if(e.each(this.dates,function(X,W){W.getUTCFullYear()===d&&q.eq(W.getUTCMonth()).addClass("active")}),(d<v||d>y)&&q.addClass("disabled"),d===v&&q.slice(0,w).addClass("disabled"),d===y&&q.slice(T+1).addClass("disabled"),this.o.beforeShowMonth!==e.noop){var ie=this;e.each(q,function(X,W){var se=new Date(d,X,1),I=ie.o.beforeShowMonth(se);I===s?I={}:typeof I=="boolean"?I={enabled:I}:typeof I=="string"&&(I={classes:I}),I.enabled!==!1||e(W).hasClass("disabled")||e(W).addClass("disabled"),I.classes&&e(W).addClass(I.classes),I.tooltip&&e(W).prop("title",I.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,d,v,y,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,d,v,y,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,d,v,y,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var i,t,o=new Date(this.viewDate),d=o.getUTCFullYear(),l=o.getUTCMonth(),v=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,w=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,y=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,T=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,m=1;switch(this.viewMode){case 4:m*=10;case 3:m*=10;case 2:m*=10;case 1:i=Math.floor(d/m)*m<=v,t=Math.floor(d/m)*m+m>y;break;case 0:i=d<=v&&l<=w,t=d>=y&&l>=T}this.picker.find(".prev").toggleClass("disabled",i),this.picker.find(".next").toggleClass("disabled",t)}},click:function(i){i.preventDefault(),i.stopPropagation();var t,o,d,l;t=e(i.target),t.hasClass("datepicker-switch")&&this.viewMode!==this.o.maxViewMode&&this.setViewMode(this.viewMode+1),t.hasClass("today")&&!t.hasClass("day")&&(this.setViewMode(0),this._setDate(a(),this.o.todayBtn==="linked"?null:"view")),t.hasClass("clear")&&this.clearDates(),t.hasClass("disabled")||(t.hasClass("month")||t.hasClass("year")||t.hasClass("decade")||t.hasClass("century"))&&(this.viewDate.setUTCDate(1),o=1,this.viewMode===1?(l=t.parent().find("span").index(t),d=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(l)):(l=0,d=Number(t.text()),this.viewDate.setUTCFullYear(d)),this._trigger(C.viewModes[this.viewMode-1].e,this.viewDate),this.viewMode===this.o.minViewMode?this._setDate(n(d,l,o)):(this.setViewMode(this.viewMode-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&this._focused_from.focus(),delete this._focused_from},dayCellClick:function(i){var t=e(i.currentTarget),o=t.data("date"),d=new Date(o);this.o.updateViewDate&&(d.getUTCFullYear()!==this.viewDate.getUTCFullYear()&&this._trigger("changeYear",this.viewDate),d.getUTCMonth()!==this.viewDate.getUTCMonth()&&this._trigger("changeMonth",this.viewDate)),this._setDate(d)},navArrowsClick:function(i){var t=e(i.currentTarget),o=t.hasClass("prev")?-1:1;this.viewMode!==0&&(o*=12*C.viewModes[this.viewMode].navStep),this.viewDate=this.moveMonth(this.viewDate,o),this._trigger(C.viewModes[this.viewMode].e,this.viewDate),this.fill()},_toggle_multidate:function(i){var t=this.dates.contains(i);if(i||this.dates.clear(),t!==-1?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(t):this.o.multidate===!1?(this.dates.clear(),this.dates.push(i)):this.dates.push(i),typeof this.o.multidate=="number")for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(i,t){t&&t!=="date"||this._toggle_multidate(i&&new Date(i)),(!t&&this.o.updateViewDate||t==="view")&&(this.viewDate=i&&new Date(i)),this.fill(),this.setValue(),t&&t==="view"||this._trigger("changeDate"),this.inputField.trigger("change"),!this.o.autoclose||t&&t!=="date"||this.hide()},moveDay:function(i,t){var o=new Date(i);return o.setUTCDate(i.getUTCDate()+t),o},moveWeek:function(i,t){return this.moveDay(i,7*t)},moveMonth:function(i,t){if(!c(i))return this.o.defaultViewDate;if(!t)return i;var o,d,l=new Date(i.valueOf()),v=l.getUTCDate(),w=l.getUTCMonth(),y=Math.abs(t);if(t=t>0?1:-1,y===1)d=t===-1?function(){return l.getUTCMonth()===w}:function(){return l.getUTCMonth()!==o},o=w+t,l.setUTCMonth(o),o=(o+12)%12;else{for(var T=0;T<y;T++)l=this.moveMonth(l,t);o=l.getUTCMonth(),l.setUTCDate(v),d=function(){return o!==l.getUTCMonth()}}for(;d();)l.setUTCDate(--v),l.setUTCMonth(o);return l},moveYear:function(i,t){return this.moveMonth(i,12*t)},moveAvailableDate:function(i,t,o){do{if(i=this[o](i,t),!this.dateWithinRange(i))return!1;o="moveDay"}while(this.dateIsDisabled(i));return i},weekOfDateIsDisabled:function(i){return e.inArray(i.getUTCDay(),this.o.daysOfWeekDisabled)!==-1},dateIsDisabled:function(i){return this.weekOfDateIsDisabled(i)||e.grep(this.o.datesDisabled,function(t){return h(i,t)}).length>0},dateWithinRange:function(i){return i>=this.o.startDate&&i<=this.o.endDate},keydown:function(i){if(!this.picker.is(":visible"))return void(i.keyCode!==40&&i.keyCode!==27||(this.show(),i.stopPropagation()));var t,o,d=!1,l=this.focusDate||this.viewDate;switch(i.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),i.preventDefault(),i.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||this.o.daysOfWeekDisabled.length===7)break;t=i.keyCode===37||i.keyCode===38?-1:1,this.viewMode===0?i.ctrlKey?(o=this.moveAvailableDate(l,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):i.shiftKey?(o=this.moveAvailableDate(l,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):i.keyCode===37||i.keyCode===39?o=this.moveAvailableDate(l,t,"moveDay"):this.weekOfDateIsDisabled(l)||(o=this.moveAvailableDate(l,t,"moveWeek")):this.viewMode===1?(i.keyCode!==38&&i.keyCode!==40||(t*=4),o=this.moveAvailableDate(l,t,"moveMonth")):this.viewMode===2&&(i.keyCode!==38&&i.keyCode!==40||(t*=4),o=this.moveAvailableDate(l,t,"moveYear")),o&&(this.focusDate=this.viewDate=o,this.setValue(),this.fill(),i.preventDefault());break;case 13:if(!this.o.forceParse)break;l=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(l),d=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(i.preventDefault(),i.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}d&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField.trigger("change"))},setViewMode:function(i){this.viewMode=i,this.picker.children("div").hide().filter(".datepicker-"+C.viewModes[this.viewMode].clsName).show(),this.updateNavArrows(),this._trigger("changeViewMode",new Date(this.viewDate))}};var _=function(i,t){e.data(i,"datepicker",this),this.element=e(i),this.inputs=e.map(t.inputs,function(o){return o.jquery?o[0]:o}),delete t.inputs,this.keepEmptyValues=t.keepEmptyValues,delete t.keepEmptyValues,H.call(e(this.inputs),t).on("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(o){return e.data(o,"datepicker")}),this.updateDates()};_.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(i){return i.getUTCDate()}),this.updateRanges()},updateRanges:function(){var i=e.map(this.dates,function(t){return t.valueOf()});e.each(this.pickers,function(t,o){o.setRange(i)})},clearDates:function(){e.each(this.pickers,function(i,t){t.clearDates()})},dateUpdated:function(i){if(!this.updating){this.updating=!0;var t=e.data(i.target,"datepicker");if(t!==s){var o=t.getUTCDate(),d=this.keepEmptyValues,l=e.inArray(i.target,this.inputs),v=l-1,w=l+1,y=this.inputs.length;if(l!==-1){if(e.each(this.pickers,function(T,m){m.getUTCDate()||m!==t&&d||m.setUTCDate(o)}),o<this.dates[v])for(;v>=0&&o<this.dates[v]&&(this.pickers[v].element.val()||"").length>0;)this.pickers[v--].setUTCDate(o);else if(o>this.dates[w])for(;w<y&&o>this.dates[w]&&(this.pickers[w].element.val()||"").length>0;)this.pickers[w++].setUTCDate(o);this.updateDates(),delete this.updating}}}},destroy:function(){e.map(this.pickers,function(i){i.destroy()}),e(this.inputs).off("changeDate",this.dateUpdated),delete this.element.data().datepicker},remove:u("destroy","Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead")};var U=e.fn.datepicker,H=function(i){var t=Array.apply(null,arguments);t.shift();var o;if(this.each(function(){var d=e(this),l=d.data("datepicker"),v=typeof i=="object"&&i;if(!l){var w=f(this,"date"),y=e.extend({},B,w,v),T=g(y.language),m=e.extend({},B,T,w,v);d.hasClass("input-daterange")||m.inputs?(e.extend(m,{inputs:m.inputs||d.find("input").toArray()}),l=new _(this,m)):l=new k(this,m),d.data("datepicker",l)}typeof i=="string"&&typeof l[i]=="function"&&(o=l[i].apply(l,t))}),o===s||o instanceof k||o instanceof _)return this;if(this.length>1)throw new Error("Using only allowed for the collection of a single element ("+i+" function)");return o};e.fn.datepicker=H;var B=e.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:e.noop,beforeShowMonth:e.noop,beforeShowYear:e.noop,beforeShowDecade:e.noop,beforeShowCentury:e.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",isInline:null,keepEmptyValues:!1,keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,updateViewDate:!0,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&#x00AB;",rightArrow:"&#x00BB;"},showWeekDays:!0},ee=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=k;var M=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},C={viewModes:[{names:["days","month"],clsName:"days",e:"changeMonth"},{names:["months","year"],clsName:"months",e:"changeYear",navStep:1},{names:["years","decade"],clsName:"years",e:"changeDecade",navStep:10},{names:["decades","century"],clsName:"decades",e:"changeCentury",navStep:100},{names:["centuries","millennium"],clsName:"centuries",e:"changeMillennium",navStep:1e3}],validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(i){if(typeof i.toValue=="function"&&typeof i.toDisplay=="function")return i;var t=i.replace(this.validParts,"\0").split("\0"),o=i.match(this.validParts);if(!t||!t.length||!o||o.length===0)throw new Error("Invalid date format.");return{separators:t,parts:o}},parseDate:function(i,t,o,d){function l(E,S){return S===!0&&(S=10),E<100&&(E+=2e3)>new Date().getFullYear()+S&&(E-=100),E}function v(){var E=this.slice(0,w[m].length),S=w[m].slice(0,E.length);return E.toLowerCase()===S.toLowerCase()}if(!i)return s;if(i instanceof Date)return i;if(typeof t=="string"&&(t=C.parseFormat(t)),t.toValue)return t.toValue(i,t,o);var w,y,T,m,O,x={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},A={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(i in A&&(i=A[i]),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(i)){for(w=i.match(/([\-+]\d+)([dmwy])/gi),i=new Date,m=0;m<w.length;m++)y=w[m].match(/([\-+]\d+)([dmwy])/i),T=Number(y[1]),O=x[y[2].toLowerCase()],i=k.prototype[O](i,T);return k.prototype._zero_utc_time(i)}w=i&&i.match(this.nonpunctuation)||[];var L,F,R={},N=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(E,S){return E.setUTCFullYear(d?l(S,d):S)},m:function(E,S){if(isNaN(E))return E;for(S-=1;S<0;)S+=12;for(S%=12,E.setUTCMonth(S);E.getUTCMonth()!==S;)E.setUTCDate(E.getUTCDate()-1);return E},d:function(E,S){return E.setUTCDate(S)}};b.yy=b.yyyy,b.M=b.MM=b.mm=b.m,b.dd=b.d,i=a();var z=t.parts.slice();if(w.length!==z.length&&(z=e(z).filter(function(E,S){return e.inArray(S,N)!==-1}).toArray()),w.length===z.length){var V;for(m=0,V=z.length;m<V;m++){if(L=parseInt(w[m],10),y=z[m],isNaN(L))switch(y){case"MM":F=e(M[o].months).filter(v),L=e.inArray(F[0],M[o].months)+1;break;case"M":F=e(M[o].monthsShort).filter(v),L=e.inArray(F[0],M[o].monthsShort)+1}R[y]=L}var Y,P;for(m=0;m<N.length;m++)(P=N[m])in R&&!isNaN(R[P])&&(Y=new Date(i),b[P](Y,R[P]),isNaN(Y)||(i=Y))}return i},formatDate:function(i,t,o){if(!i)return"";if(typeof t=="string"&&(t=C.parseFormat(t)),t.toDisplay)return t.toDisplay(i,t,o);var d={d:i.getUTCDate(),D:M[o].daysShort[i.getUTCDay()],DD:M[o].days[i.getUTCDay()],m:i.getUTCMonth()+1,M:M[o].monthsShort[i.getUTCMonth()],MM:M[o].months[i.getUTCMonth()],yy:i.getUTCFullYear().toString().substring(2),yyyy:i.getUTCFullYear()};d.dd=(d.d<10?"0":"")+d.d,d.mm=(d.m<10?"0":"")+d.m,i=[];for(var l=e.extend([],t.separators),v=0,w=t.parts.length;v<=w;v++)l.length&&i.push(l.shift()),i.push(d[t.parts[v]]);return i.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">'+B.templates.leftArrow+'</th><th colspan="5" class="datepicker-switch"></th><th class="next">'+B.templates.rightArrow+"</th></tr></thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};C.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+C.headTemplate+"<tbody></tbody>"+C.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+C.headTemplate+C.contTemplate+C.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+C.headTemplate+C.contTemplate+C.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+C.headTemplate+C.contTemplate+C.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+C.headTemplate+C.contTemplate+C.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=C,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=U,this},e.fn.datepicker.version="1.10.0",e.fn.datepicker.deprecated=function(i){var t=window.console;t&&t.warn&&t.warn("DEPRECATED: "+i)},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(i){var t=e(this);t.data("datepicker")||(i.preventDefault(),H.call(t,"show"))}),e(function(){H.call(e('[data-provide="datepicker-inline"]'))})})})();var j=J;function J(){var r=[].slice.call(arguments),e=!1;typeof r[0]=="boolean"&&(e=r.shift());var s=r[0];if(G(s))throw new Error("extendee must be an object");for(var n=r.slice(1),a=n.length,h=0;h<a;h++){var u=n[h];for(var c in u)if(Object.prototype.hasOwnProperty.call(u,c)){var f=u[c];if(e&&re(f)){var g=Array.isArray(f)?[]:{};s[c]=J(!0,Object.prototype.hasOwnProperty.call(s,c)&&!G(s[c])?s[c]:g,f)}else s[c]=f}}return s}function re(r){return Array.isArray(r)||{}.toString.call(r)=="[object Object]"}function G(r){return!r||typeof r!="object"&&typeof r!="function"}function oe(r){return r&&r.__esModule?r.default:r}class K{on(e,s){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(s),this}emit(e,...s){this._callbacks=this._callbacks||{};let n=this._callbacks[e];if(n)for(let a of n)a.apply(this,s);return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+e,{args:s})),this}makeEvent(e,s){let n={bubbles:!0,cancelable:!0,detail:s};if(typeof window.CustomEvent=="function")return new CustomEvent(e,n);var a=document.createEvent("CustomEvent");return a.initCustomEvent(e,n.bubbles,n.cancelable,n.detail),a}off(e,s){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;let n=this._callbacks[e];if(!n)return this;if(arguments.length===1)return delete this._callbacks[e],this;for(let a=0;a<n.length;a++)if(n[a]===s){n.splice(a,1);break}return this}}var Z={};Z=`<div class="dz-preview dz-file-preview">
  <div class="dz-image"><img data-dz-thumbnail=""></div>
  <div class="dz-details">
    <div class="dz-size"><span data-dz-size=""></span></div>
    <div class="dz-filename"><span data-dz-name=""></span></div>
  </div>
  <div class="dz-progress">
    <span class="dz-upload" data-dz-uploadprogress=""></span>
  </div>
  <div class="dz-error-message"><span data-dz-errormessage=""></span></div>
  <div class="dz-success-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M10.2071 29.7929L14.2929 25.7071C14.6834 25.3166 15.3166 25.3166 15.7071 25.7071L21.2929 31.2929C21.6834 31.6834 22.3166 31.6834 22.7071 31.2929L38.2929 15.7071C38.6834 15.3166 39.3166 15.3166 39.7071 15.7071L43.7929 19.7929C44.1834 20.1834 44.1834 20.8166 43.7929 21.2071L22.7071 42.2929C22.3166 42.6834 21.6834 42.6834 21.2929 42.2929L10.2071 31.2071C9.81658 30.8166 9.81658 30.1834 10.2071 29.7929Z"></path>
    </svg>
  </div>
  <div class="dz-error-mark">
    <svg width="54" height="54" viewBox="0 0 54 54" fill="white" xmlns="http://www.w3.org/2000/svg">
      <path d="M26.2929 20.2929L19.2071 13.2071C18.8166 12.8166 18.1834 12.8166 17.7929 13.2071L13.2071 17.7929C12.8166 18.1834 12.8166 18.8166 13.2071 19.2071L20.2929 26.2929C20.6834 26.6834 20.6834 27.3166 20.2929 27.7071L13.2071 34.7929C12.8166 35.1834 12.8166 35.8166 13.2071 36.2071L17.7929 40.7929C18.1834 41.1834 18.8166 41.1834 19.2071 40.7929L26.2929 33.7071C26.6834 33.3166 27.3166 33.3166 27.7071 33.7071L34.7929 40.7929C35.1834 41.1834 35.8166 41.1834 36.2071 40.7929L40.7929 36.2071C41.1834 35.8166 41.1834 35.1834 40.7929 34.7929L33.7071 27.7071C33.3166 27.3166 33.3166 26.6834 33.7071 26.2929L40.7929 19.2071C41.1834 18.8166 41.1834 18.1834 40.7929 17.7929L36.2071 13.2071C35.8166 12.8166 35.1834 12.8166 34.7929 13.2071L27.7071 20.2929C27.3166 20.6834 26.6834 20.6834 26.2929 20.2929Z"></path>
    </svg>
  </div>
</div>
`;let le={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2097152,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,defaultHeaders:!0,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init(){},params(r,e,s){if(s)return{dzuuid:s.file.upload.uuid,dzchunkindex:s.index,dztotalfilesize:s.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:s.file.upload.totalChunkCount,dzchunkbyteoffset:s.index*this.options.chunkSize}},accept(r,e){return e()},chunksUploaded:function(r,e){e()},binaryBody:!1,fallback(){let r;this.element.className=`${this.element.className} dz-browser-not-supported`;for(let s of this.element.getElementsByTagName("div"))if(/(^| )dz-message($| )/.test(s.className)){r=s,s.className="dz-message";break}r||(r=p.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(r));let e=r.getElementsByTagName("span")[0];return e&&(e.textContent!=null?e.textContent=this.options.dictFallbackMessage:e.innerText!=null&&(e.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize(r,e,s,n){let a={srcX:0,srcY:0,srcWidth:r.width,srcHeight:r.height},h=r.width/r.height;e==null&&s==null?(e=a.srcWidth,s=a.srcHeight):e==null?e=s*h:s==null&&(s=e/h),e=Math.min(e,a.srcWidth),s=Math.min(s,a.srcHeight);let u=e/s;if(a.srcWidth>e||a.srcHeight>s)if(n==="crop")h>u?(a.srcHeight=r.height,a.srcWidth=a.srcHeight*u):(a.srcWidth=r.width,a.srcHeight=a.srcWidth/u);else if(n==="contain")h>u?s=e/h:e=s*h;else throw new Error(`Unknown resizeMethod '${n}'`);return a.srcX=(r.width-a.srcWidth)/2,a.srcY=(r.height-a.srcHeight)/2,a.trgWidth=e,a.trgHeight=s,a},transformFile(r,e){return(this.options.resizeWidth||this.options.resizeHeight)&&r.type.match(/image.*/)?this.resizeImage(r,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,e):e(r)},previewTemplate:oe(Z),drop(r){return this.element.classList.remove("dz-drag-hover")},dragstart(r){},dragend(r){return this.element.classList.remove("dz-drag-hover")},dragenter(r){return this.element.classList.add("dz-drag-hover")},dragover(r){return this.element.classList.add("dz-drag-hover")},dragleave(r){return this.element.classList.remove("dz-drag-hover")},paste(r){},reset(){return this.element.classList.remove("dz-started")},addedfile(r){if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){r.previewElement=p.createElement(this.options.previewTemplate.trim()),r.previewTemplate=r.previewElement,this.previewsContainer.appendChild(r.previewElement);for(var e of r.previewElement.querySelectorAll("[data-dz-name]"))e.textContent=r.name;for(e of r.previewElement.querySelectorAll("[data-dz-size]"))e.innerHTML=this.filesize(r.size);this.options.addRemoveLinks&&(r._removeLink=p.createElement(`<a class="dz-remove" href="javascript:undefined;" data-dz-remove>${this.options.dictRemoveFile}</a>`),r.previewElement.appendChild(r._removeLink));let s=n=>(n.preventDefault(),n.stopPropagation(),r.status===p.UPLOADING?p.confirm(this.options.dictCancelUploadConfirmation,()=>this.removeFile(r)):this.options.dictRemoveFileConfirmation?p.confirm(this.options.dictRemoveFileConfirmation,()=>this.removeFile(r)):this.removeFile(r));for(let n of r.previewElement.querySelectorAll("[data-dz-remove]"))n.addEventListener("click",s)}},removedfile(r){return r.previewElement!=null&&r.previewElement.parentNode!=null&&r.previewElement.parentNode.removeChild(r.previewElement),this._updateMaxFilesReachedClass()},thumbnail(r,e){if(r.previewElement){r.previewElement.classList.remove("dz-file-preview");for(let s of r.previewElement.querySelectorAll("[data-dz-thumbnail]"))s.alt=r.name,s.src=e;return setTimeout(()=>r.previewElement.classList.add("dz-image-preview"),1)}},error(r,e){if(r.previewElement){r.previewElement.classList.add("dz-error"),typeof e!="string"&&e.error&&(e=e.error);for(let s of r.previewElement.querySelectorAll("[data-dz-errormessage]"))s.textContent=e}},errormultiple(){},processing(r){if(r.previewElement&&(r.previewElement.classList.add("dz-processing"),r._removeLink))return r._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple(){},uploadprogress(r,e,s){if(r.previewElement)for(let n of r.previewElement.querySelectorAll("[data-dz-uploadprogress]"))n.nodeName==="PROGRESS"?n.value=e:n.style.width=`${e}%`},totaluploadprogress(){},sending(){},sendingmultiple(){},success(r){if(r.previewElement)return r.previewElement.classList.add("dz-success")},successmultiple(){},canceled(r){return this.emit("error",r,this.options.dictUploadCanceled)},canceledmultiple(){},complete(r){if(r._removeLink&&(r._removeLink.innerHTML=this.options.dictRemoveFile),r.previewElement)return r.previewElement.classList.add("dz-complete")},completemultiple(){},maxfilesexceeded(){},maxfilesreached(){},queuecomplete(){},addedfiles(){}};var he=le;class p extends K{static initClass(){this.prototype.Emitter=K,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}getAcceptedFiles(){return this.files.filter(e=>e.accepted).map(e=>e)}getRejectedFiles(){return this.files.filter(e=>!e.accepted).map(e=>e)}getFilesWithStatus(e){return this.files.filter(s=>s.status===e).map(s=>s)}getQueuedFiles(){return this.getFilesWithStatus(p.QUEUED)}getUploadingFiles(){return this.getFilesWithStatus(p.UPLOADING)}getAddedFiles(){return this.getFilesWithStatus(p.ADDED)}getActiveFiles(){return this.files.filter(e=>e.status===p.UPLOADING||e.status===p.QUEUED).map(e=>e)}init(){if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(p.createElement(`<div class="dz-default dz-message"><button class="dz-button" type="button">${this.options.dictDefaultMessage}</button></div>`)),this.clickableElements.length){let n=()=>{this.hiddenFileInput&&this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=document.createElement("input"),this.hiddenFileInput.setAttribute("type","file"),(this.options.maxFiles===null||this.options.maxFiles>1)&&this.hiddenFileInput.setAttribute("multiple","multiple"),this.hiddenFileInput.className="dz-hidden-input",this.options.acceptedFiles!==null&&this.hiddenFileInput.setAttribute("accept",this.options.acceptedFiles),this.options.capture!==null&&this.hiddenFileInput.setAttribute("capture",this.options.capture),this.hiddenFileInput.setAttribute("tabindex","-1"),this.hiddenFileInput.style.visibility="hidden",this.hiddenFileInput.style.position="absolute",this.hiddenFileInput.style.top="0",this.hiddenFileInput.style.left="0",this.hiddenFileInput.style.height="0",this.hiddenFileInput.style.width="0",p.getElement(this.options.hiddenInputContainer,"hiddenInputContainer").appendChild(this.hiddenFileInput),this.hiddenFileInput.addEventListener("change",()=>{let{files:a}=this.hiddenFileInput;if(a.length)for(let h of a)this.addFile(h);this.emit("addedfiles",a),n()})};n()}this.URL=window.URL!==null?window.URL:window.webkitURL;for(let n of this.events)this.on(n,this.options[n]);this.on("uploadprogress",()=>this.updateTotalUploadProgress()),this.on("removedfile",()=>this.updateTotalUploadProgress()),this.on("canceled",n=>this.emit("complete",n)),this.on("complete",n=>{if(this.getAddedFiles().length===0&&this.getUploadingFiles().length===0&&this.getQueuedFiles().length===0)return setTimeout(()=>this.emit("queuecomplete"),0)});const e=function(n){if(n.dataTransfer.types){for(var a=0;a<n.dataTransfer.types.length;a++)if(n.dataTransfer.types[a]==="Files")return!0}return!1};let s=function(n){if(e(n))return n.stopPropagation(),n.preventDefault?n.preventDefault():n.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:n=>this.emit("dragstart",n),dragenter:n=>(s(n),this.emit("dragenter",n)),dragover:n=>{let a;try{a=n.dataTransfer.effectAllowed}catch{}return n.dataTransfer.dropEffect=a==="move"||a==="linkMove"?"move":"copy",s(n),this.emit("dragover",n)},dragleave:n=>this.emit("dragleave",n),drop:n=>(s(n),this.drop(n)),dragend:n=>this.emit("dragend",n)}}],this.clickableElements.forEach(n=>this.listeners.push({element:n,events:{click:a=>((n!==this.element||a.target===this.element||p.elementInside(a.target,this.element.querySelector(".dz-message")))&&this.hiddenFileInput.click(),!0)}})),this.enable(),this.options.init.call(this)}destroy(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,p.instances.splice(p.instances.indexOf(this),1)}updateTotalUploadProgress(){let e,s=0,n=0;if(this.getActiveFiles().length){for(let h of this.getActiveFiles())s+=h.upload.bytesSent,n+=h.upload.total;e=100*s/n}else e=100;return this.emit("totaluploadprogress",e,n,s)}_getParamName(e){return typeof this.options.paramName=="function"?this.options.paramName(e):`${this.options.paramName}${this.options.uploadMultiple?`[${e}]`:""}`}_renameFile(e){return typeof this.options.renameFile!="function"?e.name:this.options.renameFile(e)}getFallbackForm(){let e,s;if(e=this.getExistingFallback())return e;let n='<div class="dz-fallback">';this.options.dictFallbackText&&(n+=`<p>${this.options.dictFallbackText}</p>`),n+=`<input type="file" name="${this._getParamName(0)}" ${this.options.uploadMultiple?'multiple="multiple"':void 0} /><input type="submit" value="Upload!"></div>`;let a=p.createElement(n);return this.element.tagName!=="FORM"?(s=p.createElement(`<form action="${this.options.url}" enctype="multipart/form-data" method="${this.options.method}"></form>`),s.appendChild(a)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),s??a}getExistingFallback(){let e=function(n){for(let a of n)if(/(^| )fallback($| )/.test(a.className))return a};for(let n of["div","form"]){var s;if(s=e(this.element.getElementsByTagName(n)))return s}}setupEventListeners(){return this.listeners.map(e=>(()=>{let s=[];for(let n in e.events){let a=e.events[n];s.push(e.element.addEventListener(n,a,!1))}return s})())}removeEventListeners(){return this.listeners.map(e=>(()=>{let s=[];for(let n in e.events){let a=e.events[n];s.push(e.element.removeEventListener(n,a,!1))}return s})())}disable(){return this.clickableElements.forEach(e=>e.classList.remove("dz-clickable")),this.removeEventListeners(),this.disabled=!0,this.files.map(e=>this.cancelUpload(e))}enable(){return delete this.disabled,this.clickableElements.forEach(e=>e.classList.add("dz-clickable")),this.setupEventListeners()}filesize(e){let s=0,n="b";if(e>0){let a=["tb","gb","mb","kb","b"];for(let h=0;h<a.length;h++){let u=a[h],c=Math.pow(this.options.filesizeBase,4-h)/10;if(e>=c){s=e/Math.pow(this.options.filesizeBase,4-h),n=u;break}}s=Math.round(10*s)/10}return`<strong>${s}</strong> ${this.options.dictFileSizeUnits[n]}`}_updateMaxFilesReachedClass(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}drop(e){if(!e.dataTransfer)return;this.emit("drop",e);let s=[];for(let n=0;n<e.dataTransfer.files.length;n++)s[n]=e.dataTransfer.files[n];if(s.length){let{items:n}=e.dataTransfer;n&&n.length&&n[0].webkitGetAsEntry!=null?this._addFilesFromItems(n):this.handleFiles(s)}this.emit("addedfiles",s)}paste(e){if(me(e!=null?e.clipboardData:void 0,n=>n.items)==null)return;this.emit("paste",e);let{items:s}=e.clipboardData;if(s.length)return this._addFilesFromItems(s)}handleFiles(e){for(let s of e)this.addFile(s)}_addFilesFromItems(e){return(()=>{let s=[];for(let a of e){var n;a.webkitGetAsEntry!=null&&(n=a.webkitGetAsEntry())?n.isFile?s.push(this.addFile(a.getAsFile())):n.isDirectory?s.push(this._addFilesFromDirectory(n,n.name)):s.push(void 0):a.getAsFile!=null&&(a.kind==null||a.kind==="file")?s.push(this.addFile(a.getAsFile())):s.push(void 0)}return s})()}_addFilesFromDirectory(e,s){let n=e.createReader(),a=u=>fe(console,"log",c=>c.log(u));var h=()=>n.readEntries(u=>{if(u.length>0){for(let c of u)c.isFile?c.file(f=>{if(!(this.options.ignoreHiddenFiles&&f.name.substring(0,1)==="."))return f.fullPath=`${s}/${f.name}`,this.addFile(f)}):c.isDirectory&&this._addFilesFromDirectory(c,`${s}/${c.name}`);h()}return null},a);return h()}accept(e,s){this.options.maxFilesize&&e.size>this.options.maxFilesize*1048576?s(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):p.isValidFile(e,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(s(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,s):s(this.options.dictInvalidFileType)}addFile(e){e.upload={uuid:p.uuidv4(),progress:0,total:e.size,bytesSent:0,filename:this._renameFile(e)},this.files.push(e),e.status=p.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,s=>{s?(e.accepted=!1,this._errorProcessing([e],s)):(e.accepted=!0,this.options.autoQueue&&this.enqueueFile(e)),this._updateMaxFilesReachedClass()})}enqueueFiles(e){for(let s of e)this.enqueueFile(s);return null}enqueueFile(e){if(e.status===p.ADDED&&e.accepted===!0){if(e.status=p.QUEUED,this.options.autoProcessQueue)return setTimeout(()=>this.processQueue(),0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}_enqueueThumbnail(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=this.options.maxThumbnailFilesize*1048576)return this._thumbnailQueue.push(e),setTimeout(()=>this._processThumbnailQueue(),0)}_processThumbnailQueue(){if(this._processingThumbnail||this._thumbnailQueue.length===0)return;this._processingThumbnail=!0;let e=this._thumbnailQueue.shift();return this.createThumbnail(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,s=>(this.emit("thumbnail",e,s),this._processingThumbnail=!1,this._processThumbnailQueue()))}removeFile(e){if(e.status===p.UPLOADING&&this.cancelUpload(e),this.files=de(this.files,e),this.emit("removedfile",e),this.files.length===0)return this.emit("reset")}removeAllFiles(e){e==null&&(e=!1);for(let s of this.files.slice())(s.status!==p.UPLOADING||e)&&this.removeFile(s);return null}resizeImage(e,s,n,a,h){return this.createThumbnail(e,s,n,a,!0,(u,c)=>{if(c==null)return h(e);{let{resizeMimeType:f}=this.options;f==null&&(f=e.type);let g=c.toDataURL(f,this.options.resizeQuality);return(f==="image/jpeg"||f==="image/jpg")&&(g=$.restore(e.dataURL,g)),h(p.dataURItoBlob(g))}})}createThumbnail(e,s,n,a,h,u){let c=new FileReader;c.onload=()=>{if(e.dataURL=c.result,e.type==="image/svg+xml"){u!=null&&u(c.result);return}this.createThumbnailFromUrl(e,s,n,a,h,u)},c.readAsDataURL(e)}displayExistingFile(e,s,n,a,h=!0){if(this.emit("addedfile",e),this.emit("complete",e),!h)this.emit("thumbnail",e,s),n&&n();else{let u=c=>{this.emit("thumbnail",e,c),n&&n()};e.dataURL=s,this.createThumbnailFromUrl(e,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,u,a)}}createThumbnailFromUrl(e,s,n,a,h,u,c){let f=document.createElement("img");return c&&(f.crossOrigin=c),h=getComputedStyle(document.body).imageOrientation=="from-image"?!1:h,f.onload=()=>{let g=D=>D(1);return typeof EXIF<"u"&&EXIF!==null&&h&&(g=D=>EXIF.getData(f,function(){return D(EXIF.getTag(this,"Orientation"))})),g(D=>{e.width=f.width,e.height=f.height;let k=this.options.resize.call(this,e,s,n,a),_=document.createElement("canvas"),U=_.getContext("2d");switch(_.width=k.trgWidth,_.height=k.trgHeight,D>4&&(_.width=k.trgHeight,_.height=k.trgWidth),D){case 2:U.translate(_.width,0),U.scale(-1,1);break;case 3:U.translate(_.width,_.height),U.rotate(Math.PI);break;case 4:U.translate(0,_.height),U.scale(1,-1);break;case 5:U.rotate(.5*Math.PI),U.scale(1,-1);break;case 6:U.rotate(.5*Math.PI),U.translate(0,-_.width);break;case 7:U.rotate(.5*Math.PI),U.translate(_.height,-_.width),U.scale(-1,1);break;case 8:U.rotate(-.5*Math.PI),U.translate(-_.height,0);break}ce(U,f,k.srcX!=null?k.srcX:0,k.srcY!=null?k.srcY:0,k.srcWidth,k.srcHeight,k.trgX!=null?k.trgX:0,k.trgY!=null?k.trgY:0,k.trgWidth,k.trgHeight);let H=_.toDataURL("image/png");if(u!=null)return u(H,_)})},u!=null&&(f.onerror=u),f.src=e.dataURL}processQueue(){let{parallelUploads:e}=this.options,s=this.getUploadingFiles().length,n=s;if(s>=e)return;let a=this.getQueuedFiles();if(a.length>0){if(this.options.uploadMultiple)return this.processFiles(a.slice(0,e-s));for(;n<e;){if(!a.length)return;this.processFile(a.shift()),n++}}}processFile(e){return this.processFiles([e])}processFiles(e){for(let s of e)s.processing=!0,s.status=p.UPLOADING,this.emit("processing",s);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)}_getFilesWithXhr(e){return this.files.filter(s=>s.xhr===e).map(s=>s)}cancelUpload(e){if(e.status===p.UPLOADING){let s=this._getFilesWithXhr(e.xhr);for(let n of s)n.status=p.CANCELED;typeof e.xhr<"u"&&e.xhr.abort();for(let n of s)this.emit("canceled",n);this.options.uploadMultiple&&this.emit("canceledmultiple",s)}else(e.status===p.ADDED||e.status===p.QUEUED)&&(e.status=p.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()}resolveOption(e,...s){return typeof e=="function"?e.apply(this,s):e}uploadFile(e){return this.uploadFiles([e])}uploadFiles(e){this._transformFiles(e,s=>{if(this.options.chunking){let n=s[0];e[0].upload.chunked=this.options.chunking&&(this.options.forceChunking||n.size>this.options.chunkSize),e[0].upload.totalChunkCount=Math.ceil(n.size/this.options.chunkSize)}if(e[0].upload.chunked){let n=e[0],a=s[0];n.upload.chunks=[];let h=()=>{let u=0;for(;n.upload.chunks[u]!==void 0;)u++;if(u>=n.upload.totalChunkCount)return;let c=u*this.options.chunkSize,f=Math.min(c+this.options.chunkSize,a.size),g={name:this._getParamName(0),data:a.webkitSlice?a.webkitSlice(c,f):a.slice(c,f),filename:n.upload.filename,chunkIndex:u};n.upload.chunks[u]={file:n,index:u,dataBlock:g,status:p.UPLOADING,progress:0,retries:0},this._uploadData(e,[g])};if(n.upload.finishedChunkUpload=(u,c)=>{let f=!0;u.status=p.SUCCESS,u.dataBlock=null,u.response=u.xhr.responseText,u.responseHeaders=u.xhr.getAllResponseHeaders(),u.xhr=null;for(let g=0;g<n.upload.totalChunkCount;g++){if(n.upload.chunks[g]===void 0)return h();n.upload.chunks[g].status!==p.SUCCESS&&(f=!1)}f&&this.options.chunksUploaded(n,()=>{this._finished(e,c,null)})},this.options.parallelChunkUploads)for(let u=0;u<n.upload.totalChunkCount;u++)h();else h()}else{let n=[];for(let a=0;a<e.length;a++)n[a]={name:this._getParamName(a),data:s[a],filename:e[a].upload.filename};this._uploadData(e,n)}})}_getChunk(e,s){for(let n=0;n<e.upload.totalChunkCount;n++)if(e.upload.chunks[n]!==void 0&&e.upload.chunks[n].xhr===s)return e.upload.chunks[n]}_uploadData(e,s){let n=new XMLHttpRequest;for(let g of e)g.xhr=n;e[0].upload.chunked&&(e[0].upload.chunks[s[0].chunkIndex].xhr=n);let a=this.resolveOption(this.options.method,e,s),h=this.resolveOption(this.options.url,e,s);n.open(a,h,!0),this.resolveOption(this.options.timeout,e)&&(n.timeout=this.resolveOption(this.options.timeout,e)),n.withCredentials=!!this.options.withCredentials,n.onload=g=>{this._finishedUploading(e,n,g)},n.ontimeout=()=>{this._handleUploadError(e,n,`Request timedout after ${this.options.timeout/1e3} seconds`)},n.onerror=()=>{this._handleUploadError(e,n)};let c=n.upload!=null?n.upload:n;c.onprogress=g=>this._updateFilesUploadProgress(e,n,g);let f=this.options.defaultHeaders?{Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"}:{};this.options.binaryBody&&(f["Content-Type"]=e[0].type),this.options.headers&&j(f,this.options.headers);for(let g in f){let D=f[g];D&&n.setRequestHeader(g,D)}if(this.options.binaryBody){for(let g of e)this.emit("sending",g,n);this.options.uploadMultiple&&this.emit("sendingmultiple",e,n),this.submitRequest(n,null,e)}else{let g=new FormData;if(this.options.params){let D=this.options.params;typeof D=="function"&&(D=D.call(this,e,n,e[0].upload.chunked?this._getChunk(e[0],n):null));for(let k in D){let _=D[k];if(Array.isArray(_))for(let U=0;U<_.length;U++)g.append(k,_[U]);else g.append(k,_)}}for(let D of e)this.emit("sending",D,n,g);this.options.uploadMultiple&&this.emit("sendingmultiple",e,n,g),this._addFormElementData(g);for(let D=0;D<s.length;D++){let k=s[D];g.append(k.name,k.data,k.filename)}this.submitRequest(n,g,e)}}_transformFiles(e,s){let n=[],a=0;for(let h=0;h<e.length;h++)this.options.transformFile.call(this,e[h],u=>{n[h]=u,++a===e.length&&s(n)})}_addFormElementData(e){if(this.element.tagName==="FORM")for(let s of this.element.querySelectorAll("input, textarea, select, button")){let n=s.getAttribute("name"),a=s.getAttribute("type");if(a&&(a=a.toLowerCase()),!(typeof n>"u"||n===null))if(s.tagName==="SELECT"&&s.hasAttribute("multiple"))for(let h of s.options)h.selected&&e.append(n,h.value);else(!a||a!=="checkbox"&&a!=="radio"||s.checked)&&e.append(n,s.value)}}_updateFilesUploadProgress(e,s,n){if(e[0].upload.chunked){let a=e[0],h=this._getChunk(a,s);n?(h.progress=100*n.loaded/n.total,h.total=n.total,h.bytesSent=n.loaded):(h.progress=100,h.bytesSent=h.total),a.upload.progress=0,a.upload.total=0,a.upload.bytesSent=0;for(let u=0;u<a.upload.totalChunkCount;u++)a.upload.chunks[u]&&typeof a.upload.chunks[u].progress<"u"&&(a.upload.progress+=a.upload.chunks[u].progress,a.upload.total+=a.upload.chunks[u].total,a.upload.bytesSent+=a.upload.chunks[u].bytesSent);a.upload.progress=a.upload.progress/a.upload.totalChunkCount,this.emit("uploadprogress",a,a.upload.progress,a.upload.bytesSent)}else for(let a of e)a.upload.total&&a.upload.bytesSent&&a.upload.bytesSent==a.upload.total||(n?(a.upload.progress=100*n.loaded/n.total,a.upload.total=n.total,a.upload.bytesSent=n.loaded):(a.upload.progress=100,a.upload.bytesSent=a.upload.total),this.emit("uploadprogress",a,a.upload.progress,a.upload.bytesSent))}_finishedUploading(e,s,n){let a;if(e[0].status!==p.CANCELED&&s.readyState===4){if(s.responseType!=="arraybuffer"&&s.responseType!=="blob"&&(a=s.responseText,s.getResponseHeader("content-type")&&~s.getResponseHeader("content-type").indexOf("application/json")))try{a=JSON.parse(a)}catch(h){n=h,a="Invalid JSON response from server."}this._updateFilesUploadProgress(e,s),200<=s.status&&s.status<300?e[0].upload.chunked?e[0].upload.finishedChunkUpload(this._getChunk(e[0],s),a):this._finished(e,a,n):this._handleUploadError(e,s,a)}}_handleUploadError(e,s,n){if(e[0].status!==p.CANCELED){if(e[0].upload.chunked&&this.options.retryChunks){let a=this._getChunk(e[0],s);if(a.retries++<this.options.retryChunksLimit){this._uploadData(e,[a.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(e,n||this.options.dictResponseError.replace("{{statusCode}}",s.status),s)}}submitRequest(e,s,n){if(e.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}if(this.options.binaryBody)if(n[0].upload.chunked){const a=this._getChunk(n[0],e);e.send(a.dataBlock.data)}else e.send(n[0]);else e.send(s)}_finished(e,s,n){for(let a of e)a.status=p.SUCCESS,this.emit("success",a,s,n),this.emit("complete",a);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,s,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}_errorProcessing(e,s,n){for(let a of e)a.status=p.ERROR,this.emit("error",a,s,n),this.emit("complete",a);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,s,n),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()}static uuidv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let s=Math.random()*16|0;return(e==="x"?s:s&3|8).toString(16)})}constructor(e,s){super();let n,a;if(this.element=e,this.clickableElements=[],this.listeners=[],this.files=[],typeof this.element=="string"&&(this.element=document.querySelector(this.element)),!this.element||this.element.nodeType==null)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");p.instances.push(this),this.element.dropzone=this;let h=(a=p.optionsForElement(this.element))!=null?a:{};if(this.options=j(!0,{},he,h,s??{}),this.options.previewTemplate=this.options.previewTemplate.replace(/\n*/g,""),this.options.forceFallback||!p.isBrowserSupported())return this.options.fallback.call(this);if(this.options.url==null&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(this.options.uploadMultiple&&this.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");if(this.options.binaryBody&&this.options.uploadMultiple)throw new Error("You cannot set both: binaryBody and uploadMultiple.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.renameFilename!=null&&(this.options.renameFile=u=>this.options.renameFilename.call(this,u.name,u)),typeof this.options.method=="string"&&(this.options.method=this.options.method.toUpperCase()),(n=this.getExistingFallback())&&n.parentNode&&n.parentNode.removeChild(n),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=p.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=p.getElements(this.options.clickable,"clickable")),this.init()}}p.initClass();p.options={};p.optionsForElement=function(r){if(r.getAttribute("id"))return p.options[ue(r.getAttribute("id"))]};p.instances=[];p.forElement=function(r){if(typeof r=="string"&&(r=document.querySelector(r)),(r!=null?r.dropzone:void 0)==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return r.dropzone};p.discover=function(){let r;if(document.querySelectorAll)r=document.querySelectorAll(".dropzone");else{r=[];let e=s=>(()=>{let n=[];for(let a of s)/(^| )dropzone($| )/.test(a.className)?n.push(r.push(a)):n.push(void 0);return n})();e(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))}return(()=>{let e=[];for(let s of r)p.optionsForElement(s)!==!1?e.push(new p(s)):e.push(void 0);return e})()};p.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i];p.isBrowserSupported=function(){let r=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))r=!1;else{p.blacklistedBrowsers!==void 0&&(p.blockedBrowsers=p.blacklistedBrowsers);for(let e of p.blockedBrowsers)if(e.test(navigator.userAgent)){r=!1;continue}}else r=!1;return r};p.dataURItoBlob=function(r){let e=atob(r.split(",")[1]),s=r.split(",")[0].split(":")[1].split(";")[0],n=new ArrayBuffer(e.length),a=new Uint8Array(n);for(let h=0,u=e.length,c=0<=u;c?h<=u:h>=u;c?h++:h--)a[h]=e.charCodeAt(h);return new Blob([n],{type:s})};const de=(r,e)=>r.filter(s=>s!==e).map(s=>s),ue=r=>r.replace(/[\-_](\w)/g,e=>e.charAt(1).toUpperCase());p.createElement=function(r){let e=document.createElement("div");return e.innerHTML=r,e.childNodes[0]};p.elementInside=function(r,e){if(r===e)return!0;for(;r=r.parentNode;)if(r===e)return!0;return!1};p.getElement=function(r,e){let s;if(typeof r=="string"?s=document.querySelector(r):r.nodeType!=null&&(s=r),s==null)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector or a plain HTML element.`);return s};p.getElements=function(r,e){let s,n;if(r instanceof Array){n=[];try{for(s of r)n.push(this.getElement(s,e))}catch{n=null}}else if(typeof r=="string"){n=[];for(s of document.querySelectorAll(r))n.push(s)}else r.nodeType!=null&&(n=[r]);if(n==null||!n.length)throw new Error(`Invalid \`${e}\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`);return n};p.confirm=function(r,e,s){if(window.confirm(r))return e();if(s!=null)return s()};p.isValidFile=function(r,e){if(!e)return!0;e=e.split(",");let s=r.type,n=s.replace(/\/.*$/,"");for(let a of e)if(a=a.trim(),a.charAt(0)==="."){if(r.name.toLowerCase().indexOf(a.toLowerCase(),r.name.length-a.length)!==-1)return!0}else if(/\/\*$/.test(a)){if(n===a.replace(/\/.*$/,""))return!0}else if(s===a)return!0;return!1};typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(r){return this.each(function(){return new p(this,r)})});p.ADDED="added";p.QUEUED="queued";p.ACCEPTED=p.QUEUED;p.UPLOADING="uploading";p.PROCESSING=p.UPLOADING;p.CANCELED="canceled";p.ERROR="error";p.SUCCESS="success";let pe=function(r){r.naturalWidth;let e=r.naturalHeight,s=document.createElement("canvas");s.width=1,s.height=e;let n=s.getContext("2d");n.drawImage(r,0,0);let{data:a}=n.getImageData(1,0,1,e),h=0,u=e,c=e;for(;c>h;)a[(c-1)*4+3]===0?u=c:h=c,c=u+h>>1;let f=c/e;return f===0?1:f};var ce=function(r,e,s,n,a,h,u,c,f,g){let D=pe(e);return r.drawImage(e,s,n,a,h,u,c,f,g/D)};class ${static initClass(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}static encode64(e){let s="",n,a,h="",u,c,f,g="",D=0;for(;n=e[D++],a=e[D++],h=e[D++],u=n>>2,c=(n&3)<<4|a>>4,f=(a&15)<<2|h>>6,g=h&63,isNaN(a)?f=g=64:isNaN(h)&&(g=64),s=s+this.KEY_STR.charAt(u)+this.KEY_STR.charAt(c)+this.KEY_STR.charAt(f)+this.KEY_STR.charAt(g),n=a=h="",u=c=f=g="",D<e.length;);return s}static restore(e,s){if(!e.match("data:image/jpeg;base64,"))return s;let n=this.decode64(e.replace("data:image/jpeg;base64,","")),a=this.slice2Segments(n),h=this.exifManipulation(s,a);return`data:image/jpeg;base64,${this.encode64(h)}`}static exifManipulation(e,s){let n=this.getExifArray(s),a=this.insertExif(e,n);return new Uint8Array(a)}static getExifArray(e){let s,n=0;for(;n<e.length;){if(s=e[n],s[0]===255&s[1]===225)return s;n++}return[]}static insertExif(e,s){let n=e.replace("data:image/jpeg;base64,",""),a=this.decode64(n),h=a.indexOf(255,3),u=a.slice(0,h),c=a.slice(h),f=u;return f=f.concat(s),f=f.concat(c),f}static slice2Segments(e){let s=0,n=[];for(;;){var a;if(e[s]===255&e[s+1]===218)break;if(e[s]===255&e[s+1]===216)s+=2;else{a=e[s+2]*256+e[s+3];let h=s+a+2,u=e.slice(s,h);n.push(u),s=h}if(s>e.length)break}return n}static decode64(e){let s,n,a="",h,u,c,f="",g=0,D=[];for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");h=this.KEY_STR.indexOf(e.charAt(g++)),u=this.KEY_STR.indexOf(e.charAt(g++)),c=this.KEY_STR.indexOf(e.charAt(g++)),f=this.KEY_STR.indexOf(e.charAt(g++)),s=h<<2|u>>4,n=(u&15)<<4|c>>2,a=(c&3)<<6|f,D.push(s),c!==64&&D.push(n),f!==64&&D.push(a),s=n=a="",h=u=c=f="",g<e.length;);return D}}$.initClass();function me(r,e){return typeof r<"u"&&r!==null?e(r):void 0}function fe(r,e,s){if(typeof r<"u"&&r!==null&&typeof r[e]=="function")return s(r,e)}ne(window,jQuery);(function(r){var e=function(){this.$body=r("body")};e.prototype.init=function(){p.autoDiscover=!1,r('[data-plugin="dropzone"]').each(function(){var s=r(this).attr("action"),n=r(this).data("previewsContainer"),a={url:s};n&&(a.previewsContainer=n);var h=r(this).data("uploadPreviewTemplate");h&&(a.previewTemplate=r(h).html()),r(this).dropzone(a)})},r.FileUpload=new e,r.FileUpload.Constructor=e})(window.jQuery),function(r){r.FileUpload.init()}(window.jQuery);
